[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Creating beautiful tables in R with {gt}",
    "section": "",
    "text": "Introduction\nI used to think that tables are dull lists of numbers. But I was wrong. Tables can be beautiful & engaging. And in this Quarto book, we’re going to learn how to create such tables with R. More precisely, we will learn how to use the {gt} package.\nChapter 1 is the starting point of our {gt} journey. It will cover both useful guidelines for any table and how to implement them with {gt}. You can think of this chapter as a quickstart guide.\nAfterwards, we’re learning how to add eye-catching elements like plots, icons and images to our table in Chapter 2. Many of these elements are powered through the amazing {gtExtras} package. But you will also learn how to add any plot to your table. Regardless of whether it implemented in {gtExtras} or not.\nNext, we’ll talk about formatting the entries of your table in Chapter 3. {gt} has two powerful sets of functions to get the job done, namely fmt_*() and sub_*(). These functions all work the same and are pretty easy to pick up. Hence, it’s easy to format the data in your table the way you want/need.\nIn Chapter 4, we’re learning how to change the theme of our table. This will be a long chapter. After all, we can basically change anything about our table’s appearance.\nAll of the knowledge that we’ve acquired in the previous chapters will culminate in Chapter 5. That’s where we will build two elaborate tables with {gt}.\nFinally, Chapter 6 is a special chapter dedicating to the interactions between Quarto and {gt}. As of right now (Quarto v1.2.267 & {gt} v0.7.0.9000 Github (rstudio/gt@a4e108c)), Quarto’s default theme can interact with your {gt} table and change its theme. But there are ways to isolate Quarto from {gt}. This is what you’ll learn in this chapter."
  },
  {
    "objectID": "index.html#prerequisites",
    "href": "index.html#prerequisites",
    "title": "Creating beautiful tables in R with {gt}",
    "section": "Prerequisites",
    "text": "Prerequisites\nThis Quarto book is meant for people with an intermediate knowledge of R, specifically the Tidyverse. I do not expect people to know HTML/CSS for the most parts.\nThroughout most of the book, we’ll only to do small changes with HTML/CSS and these bits will be explained. But there will be parts in Chapter 4 and the subsequent chapters that will talk about changing CSS styles. Feel free to skip these parts if you’re uncomfortable with CSS."
  },
  {
    "objectID": "index.html#about-this-book",
    "href": "index.html#about-this-book",
    "title": "Creating beautiful tables in R with {gt}",
    "section": "About this book",
    "text": "About this book\nThis book is completely free and the code is open-source. If you find the things you learn here useful, I’d appreciate it if you sponsor my work via Buy Me Coffee. Or if you’re interested in working with me, I’m open to freelance work. You can book an appointment with me on Calendly.\nNo pressure. You don’t have to. I just mention this because I’d like to finance my current life style that enables me to write such extensive tutorials."
  },
  {
    "objectID": "index.html#session-info",
    "href": "index.html#session-info",
    "title": "Creating beautiful tables in R with {gt}",
    "section": "Session info",
    "text": "Session info\nJust so you’re sure what versions I’m using. Here’s my session info and my Quarto version.\n\nsessioninfo::session_info(\"installed\")\n## ─ Session info ───────────────────────────────────────────────────────────────\n##  setting  value\n##  version  R version 4.2.2 (2022-10-31)\n##  os       Ubuntu 20.04.5 LTS\n##  system   x86_64, linux-gnu\n##  ui       X11\n##  language (EN)\n##  collate  en_US.UTF-8\n##  ctype    en_US.UTF-8\n##  tz       Europe/Berlin\n##  date     2022-11-13\n##  pandoc   2.19.2 @ /usr/lib/rstudio/bin/quarto/bin/tools/ (via rmarkdown)\n## \n## ─ Packages ───────────────────────────────────────────────────────────────────\n##  ! package        * version    date (UTC) lib source\n##    AsioHeaders      1.22.1-1   2022-06-14 [1] CRAN (R 4.2.1)\n##    askpass          1.1        2019-01-13 [1] CRAN (R 4.0.0)\n##    assertthat       0.2.1      2019-03-21 [1] CRAN (R 4.0.0)\n##    backports        1.4.1      2021-12-13 [1] CRAN (R 4.1.2)\n##    base64enc        0.1-3      2015-07-28 [1] CRAN (R 4.0.0)\n##    bigD             0.2.0      2022-09-05 [1] CRAN (R 4.2.2)\n##    bit              4.0.4      2020-08-04 [1] CRAN (R 4.0.2)\n##    bit64            4.0.5      2020-08-30 [1] CRAN (R 4.0.2)\n##    bitops           1.0-7      2021-04-24 [1] CRAN (R 4.0.5)\n##    blob             1.2.3      2022-04-10 [1] CRAN (R 4.1.3)\n##    boot             1.3-28     2021-05-03 [2] CRAN (R 4.0.5)\n##    brew             1.0-8      2022-09-29 [1] CRAN (R 4.2.1)\n##    brio             1.1.3      2021-11-30 [1] CRAN (R 4.2.1)\n##    broom            1.0.1      2022-08-29 [1] CRAN (R 4.2.1)\n##    broom.helpers    1.9.0      2022-09-23 [1] CRAN (R 4.2.1)\n##    bslib            0.4.1      2022-11-02 [1] CRAN (R 4.2.2)\n##    cachem           1.0.6      2021-08-19 [1] CRAN (R 4.2.0)\n##    callr            3.7.3      2022-11-02 [1] CRAN (R 4.2.2)\n##    cellranger       1.1.0      2016-07-27 [1] CRAN (R 4.0.0)\n##    chromote         0.1.1      2022-09-07 [1] CRAN (R 4.2.1)\n##    class            7.3-20     2022-01-13 [2] CRAN (R 4.1.2)\n##  P cli              3.4.1      2022-09-23 [?] CRAN (R 4.2.1)\n##    clipr            0.8.0      2022-02-22 [1] CRAN (R 4.1.2)\n##    cluster          2.1.4      2022-08-22 [2] CRAN (R 4.2.1)\n##    codetools        0.2-18     2020-11-04 [2] CRAN (R 4.0.3)\n##    colorspace       2.0-3      2022-02-21 [1] CRAN (R 4.1.2)\n##    commonmark       1.8.1      2022-10-14 [1] CRAN (R 4.2.2)\n##    cpp11            0.4.3      2022-10-12 [1] CRAN (R 4.2.1)\n##    crayon           1.5.2      2022-09-29 [1] CRAN (R 4.2.1)\n##    credentials      1.3.2      2021-11-29 [1] CRAN (R 4.2.1)\n##    curl             4.3.3      2022-10-06 [1] CRAN (R 4.2.1)\n##    data.table       1.14.4     2022-10-17 [1] CRAN (R 4.2.2)\n##    DBI              1.1.3      2022-06-18 [1] CRAN (R 4.2.1)\n##    dbplyr           2.2.1      2022-06-27 [1] CRAN (R 4.2.1)\n##    desc             1.4.2      2022-09-08 [1] CRAN (R 4.2.1)\n##    devtools         2.4.5      2022-10-11 [1] CRAN (R 4.2.2)\n##    diffobj          0.3.5      2021-10-05 [1] CRAN (R 4.2.1)\n##  P digest           0.6.30     2022-10-18 [?] CRAN (R 4.2.1)\n##    downlit          0.4.2      2022-07-05 [1] CRAN (R 4.2.1)\n##    dplyr            1.0.10     2022-09-01 [1] CRAN (R 4.2.1)\n##    dtplyr           1.2.2      2022-08-20 [1] CRAN (R 4.2.1)\n##    ellipsis         0.3.2      2021-04-29 [1] CRAN (R 4.0.5)\n##    emoji            15.0       2022-11-03 [1] CRAN (R 4.2.2)\n##  P evaluate         0.18       2022-11-07 [?] CRAN (R 4.2.2)\n##    fansi            1.0.3      2022-03-24 [1] CRAN (R 4.1.3)\n##    farver           2.1.1      2022-07-06 [1] CRAN (R 4.2.1)\n##  P fastmap          1.1.0      2021-01-25 [?] CRAN (R 4.0.3)\n##    fontawesome      0.4.0      2022-10-25 [1] CRAN (R 4.2.2)\n##    forcats          0.5.2      2022-08-19 [1] CRAN (R 4.2.1)\n##    foreign          0.8-82     2022-01-13 [2] CRAN (R 4.1.2)\n##    fs               1.5.2      2021-12-08 [1] CRAN (R 4.1.2)\n##    gapminder        0.3.0      2017-10-31 [1] CRAN (R 4.2.1)\n##    gargle           1.2.1      2022-09-08 [1] CRAN (R 4.2.1)\n##    generics         0.1.3      2022-07-05 [1] CRAN (R 4.2.1)\n##    gert             1.9.1      2022-10-05 [1] CRAN (R 4.2.2)\n##    ggplot2          3.4.0      2022-11-04 [1] CRAN (R 4.2.2)\n##    gh               1.3.1      2022-09-08 [1] CRAN (R 4.2.1)\n##    gitcreds         0.1.2      2022-09-08 [1] CRAN (R 4.2.1)\n##  P glue             1.6.2      2022-02-24 [?] CRAN (R 4.1.2)\n##    googledrive      2.0.0      2021-07-08 [1] CRAN (R 4.1.0)\n##    googlesheets4    1.0.1      2022-08-13 [1] CRAN (R 4.2.1)\n##    gt               0.7.0.9000 2022-11-11 [1] Github (rstudio/gt@a4e108c)\n##    gtable           0.3.1      2022-09-01 [1] CRAN (R 4.2.1)\n##    gtExtras         0.4.3      2022-11-05 [1] CRAN (R 4.2.2)\n##    gtsummary        1.6.2      2022-09-30 [1] CRAN (R 4.2.1)\n##    haven            2.5.1      2022-08-22 [1] CRAN (R 4.2.1)\n##    here             1.0.1      2020-12-13 [1] CRAN (R 4.2.0)\n##    highr            0.9        2021-04-16 [1] CRAN (R 4.0.5)\n##    hms              1.1.2      2022-08-19 [1] CRAN (R 4.2.1)\n##  P htmltools        0.5.3      2022-07-18 [?] CRAN (R 4.2.1)\n##  P htmlwidgets      1.5.4      2021-09-08 [?] CRAN (R 4.2.1)\n##    httpuv           1.6.6      2022-09-08 [1] CRAN (R 4.2.1)\n##    httr             1.4.4      2022-08-17 [1] CRAN (R 4.2.1)\n##    ids              1.0.1      2017-05-31 [1] CRAN (R 4.0.0)\n##    ini              0.3.1      2018-05-20 [1] CRAN (R 4.2.1)\n##    isoband          0.2.6      2022-10-06 [1] CRAN (R 4.2.1)\n##    janitor          2.1.0      2021-01-05 [1] CRAN (R 4.2.0)\n##    jquerylib        0.1.4      2021-04-26 [1] CRAN (R 4.0.5)\n##  P jsonlite         1.8.3      2022-10-21 [?] CRAN (R 4.2.1)\n##    juicyjuice       0.1.0      2022-11-10 [1] CRAN (R 4.2.2)\n##    KernSmooth       2.23-20    2021-05-03 [2] CRAN (R 4.0.5)\n##  P knitr            1.40       2022-08-24 [?] CRAN (R 4.2.1)\n##    labeling         0.4.2      2020-10-20 [1] CRAN (R 4.0.3)\n##    labelled         2.10.0     2022-09-14 [1] CRAN (R 4.2.1)\n##    later            1.3.0      2021-08-18 [1] CRAN (R 4.2.0)\n##    lattice          0.20-45    2021-09-22 [2] CRAN (R 4.2.0)\n##  P lifecycle        1.0.3      2022-10-07 [?] CRAN (R 4.2.1)\n##    lubridate        1.9.0      2022-11-06 [1] CRAN (R 4.2.2)\n##  P magrittr         2.0.3      2022-03-30 [?] CRAN (R 4.1.3)\n##    markdown         1.3        2022-10-29 [1] CRAN (R 4.2.2)\n##    MASS             7.3-58.1   2022-08-03 [2] CRAN (R 4.2.1)\n##    Matrix           1.5-1      2022-09-13 [2] CRAN (R 4.2.1)\n##    memoise          2.0.1      2021-11-26 [1] CRAN (R 4.2.0)\n##    mgcv             1.8-41     2022-10-21 [2] CRAN (R 4.2.1)\n##    mime             0.12       2021-09-28 [1] CRAN (R 4.1.1)\n##    miniUI           0.1.1.1    2018-05-18 [1] CRAN (R 4.2.1)\n##    modelr           0.1.9      2022-08-19 [1] CRAN (R 4.2.1)\n##    munsell          0.5.0      2018-06-12 [1] CRAN (R 4.0.0)\n##    nlme             3.1-160    2022-10-10 [2] CRAN (R 4.2.1)\n##    nnet             7.3-18     2022-09-28 [2] CRAN (R 4.2.1)\n##    openssl          2.0.4      2022-10-17 [1] CRAN (R 4.2.2)\n##    packrat          0.8.1      2022-06-29 [1] CRAN (R 4.2.1)\n##    paletteer        1.5.0      2022-10-19 [1] CRAN (R 4.2.2)\n##    palmerpenguins   0.1.1      2022-08-15 [1] CRAN (R 4.2.1)\n##    pillar           1.8.1      2022-08-19 [1] CRAN (R 4.2.1)\n##    pkgbuild         1.3.1      2021-12-20 [1] CRAN (R 4.2.1)\n##    pkgconfig        2.0.3      2019-09-22 [1] CRAN (R 4.0.0)\n##    pkgdown          2.0.6      2022-07-16 [1] CRAN (R 4.2.1)\n##    pkgload          1.3.1      2022-10-28 [1] CRAN (R 4.2.2)\n##    praise           1.0.0      2015-08-11 [1] CRAN (R 4.2.1)\n##    prettyunits      1.1.1      2020-01-24 [1] CRAN (R 4.0.0)\n##    prismatic        1.1.1      2022-08-15 [1] CRAN (R 4.2.1)\n##    processx         3.8.0      2022-10-26 [1] CRAN (R 4.2.2)\n##    profvis          0.3.7      2020-11-02 [1] CRAN (R 4.2.1)\n##    progress         1.2.2      2019-05-16 [1] CRAN (R 4.0.0)\n##    promises         1.2.0.1    2021-02-11 [1] CRAN (R 4.2.0)\n##    ps               1.7.2      2022-10-26 [1] CRAN (R 4.2.2)\n##    purrr            0.3.5      2022-10-06 [1] CRAN (R 4.2.1)\n##    R6               2.5.1      2021-08-19 [1] CRAN (R 4.1.1)\n##    ragg             1.2.4      2022-10-24 [1] CRAN (R 4.2.2)\n##    rappdirs         0.3.3      2021-01-31 [1] CRAN (R 4.0.3)\n##    rcmdcheck        1.4.0      2021-09-27 [1] CRAN (R 4.2.1)\n##    RColorBrewer     1.1-3      2022-04-03 [1] CRAN (R 4.1.3)\n##    Rcpp             1.0.9      2022-07-08 [1] CRAN (R 4.2.1)\n##    readr            2.1.3      2022-10-01 [1] CRAN (R 4.2.1)\n##    readxl           1.4.1      2022-08-17 [1] CRAN (R 4.2.1)\n##    rematch          1.0.1      2016-04-21 [1] CRAN (R 4.0.0)\n##    rematch2         2.1.2      2020-05-01 [1] CRAN (R 4.0.0)\n##    remotes          2.4.2      2021-11-30 [1] CRAN (R 4.2.1)\n##    renv             0.15.5     2022-05-26 [1] CRAN (R 4.2.0)\n##    reprex           2.0.2      2022-08-17 [1] CRAN (R 4.2.1)\n##  P rlang            1.0.6      2022-09-24 [?] CRAN (R 4.2.1)\n##  P rmarkdown        2.18       2022-11-09 [?] CRAN (R 4.2.2)\n##    roxygen2         7.2.1      2022-07-18 [1] CRAN (R 4.2.1)\n##    rpart            4.1.19     2022-10-21 [2] CRAN (R 4.2.1)\n##    rprojroot        2.0.3      2022-04-02 [1] CRAN (R 4.1.3)\n##    rsconnect        0.8.28     2022-10-24 [1] CRAN (R 4.2.2)\n##  P rstudioapi       0.14       2022-08-22 [?] CRAN (R 4.2.1)\n##    rversions        2.1.2      2022-08-31 [1] CRAN (R 4.2.1)\n##    rvest            1.0.3      2022-08-19 [1] CRAN (R 4.2.1)\n##    sass             0.4.2      2022-07-16 [1] CRAN (R 4.2.1)\n##    scales           1.2.1      2022-08-20 [1] CRAN (R 4.2.1)\n##    selectr          0.4-2      2019-11-20 [1] CRAN (R 4.0.0)\n##  P sessioninfo      1.2.2      2021-12-06 [?] CRAN (R 4.2.1)\n##    shiny            1.7.3      2022-10-25 [1] CRAN (R 4.2.2)\n##    snakecase        0.11.0     2019-05-25 [1] CRAN (R 4.2.0)\n##    sourcetools      0.1.7      2018-04-25 [1] CRAN (R 4.2.0)\n##    spatial          7.3-15     2022-01-13 [2] CRAN (R 4.1.2)\n##  P stringi          1.7.8      2022-07-11 [?] CRAN (R 4.2.1)\n##  P stringr          1.4.1.9000 2022-11-09 [?] Github (tidyverse/stringr@f482fb0)\n##    survival         3.4-0      2022-08-09 [2] CRAN (R 4.2.1)\n##    svglite          2.1.0      2022-02-03 [1] CRAN (R 4.2.1)\n##    sys              3.4.1      2022-10-18 [1] CRAN (R 4.2.2)\n##    systemfonts      1.0.4      2022-02-11 [1] CRAN (R 4.1.2)\n##    testthat         3.1.5      2022-10-08 [1] CRAN (R 4.2.2)\n##    textshaping      0.3.6      2021-10-13 [1] CRAN (R 4.2.1)\n##    thematic         0.1.2.1    2021-06-09 [1] CRAN (R 4.2.0)\n##    tibble           3.1.8      2022-07-22 [1] CRAN (R 4.2.1)\n##    tidyr            1.2.1      2022-09-08 [1] CRAN (R 4.2.1)\n##    tidyselect       1.2.0      2022-10-10 [1] CRAN (R 4.2.1)\n##    tidyverse        1.3.2      2022-07-18 [1] CRAN (R 4.2.1)\n##    timechange       0.1.1      2022-11-04 [1] CRAN (R 4.2.2)\n##    tinytex          0.42       2022-09-27 [1] CRAN (R 4.2.1)\n##    tzdb             0.3.0      2022-03-28 [1] CRAN (R 4.1.3)\n##    urlchecker       1.0.1      2021-11-30 [1] CRAN (R 4.2.1)\n##    usethis          2.1.6      2022-05-25 [1] CRAN (R 4.2.1)\n##    utf8             1.2.2      2021-07-24 [1] CRAN (R 4.1.0)\n##    uuid             1.1-0      2022-04-19 [1] CRAN (R 4.2.0)\n##    V8               4.2.2      2022-11-03 [1] CRAN (R 4.2.2)\n##  P vctrs            0.5.0.9000 2022-11-09 [?] Github (r-lib/vctrs@ece04d3)\n##    viridisLite      0.4.1      2022-08-22 [1] CRAN (R 4.2.1)\n##    vroom            1.6.0      2022-09-30 [1] CRAN (R 4.2.1)\n##    waldo            0.4.0      2022-03-16 [1] CRAN (R 4.2.1)\n##    webshot2         0.1.0      2022-05-18 [1] CRAN (R 4.2.1)\n##    websocket        1.4.1      2021-08-18 [1] CRAN (R 4.2.1)\n##    whisker          0.4        2019-08-28 [1] CRAN (R 4.2.1)\n##    withr            2.5.0      2022-03-03 [1] CRAN (R 4.1.3)\n##  P xfun             0.34       2022-10-18 [?] CRAN (R 4.2.2)\n##    xml2             1.3.3      2021-11-30 [1] CRAN (R 4.1.2)\n##    xopen            1.0.0      2018-09-17 [1] CRAN (R 4.2.1)\n##    xtable           1.8-4      2019-04-21 [1] CRAN (R 4.2.0)\n##    yaml             2.3.6      2022-10-18 [1] CRAN (R 4.2.1)\n##    zip              2.2.2      2022-10-26 [1] CRAN (R 4.2.2)\n## \n##  [1] /media/albert/Files/NextCloud/R Projects/gt_book/renv/library/R-4.2/x86_64-pc-linux-gnu\n##  [2] /usr/lib/R/library\n## \n##  P ── Loaded and on-disk path mismatch.\n## \n## ──────────────────────────────────────────────────────────────────────────────\n\n\nquarto check\n## \n## \n[✓] Checking Quarto installation......OK\n##       Version: 1.2.267\n##       Path: /opt/quarto/bin\n## \n## \n(|) Checking basic markdown render....\n(/) Checking basic markdown render....\u001b[2K\u001b[G\n[✓] Checking basic markdown render....OK\n## \n## \u001b[2K\u001b[G\n[✓] Checking Python 3 installation....OK\n##       Version: 3.8.10\n##       Path: /usr/bin/python3\n##       Jupyter: (None)\n## \n##       Jupyter is not available in this Python installation.\n##       Install with \u001b[1mpython3 -m pip install jupyter\u001b[22m\n## \n## \n(|) Checking R installation...........\n(/) Checking R installation...........\n(-) Checking R installation...........\n(\\) Checking R installation...........\u001b[2K\u001b[G\n[✓] Checking R installation...........OK\n##       Version: 4.2.2\n##       Path: /usr/lib/R\n##       LibPaths:\n##         - /media/albert/Files/NextCloud/R Projects/gt_book/renv/library/R-4.2/x86_64-pc-linux-gnu\n##         - /usr/lib/R/library\n##       rmarkdown: 2.18\n## \n## \n(|) Checking Knitr engine render......\n(/) Checking Knitr engine render......\n(-) Checking Knitr engine render......\n(\\) Checking Knitr engine render......\n(|) Checking Knitr engine render......\n(/) Checking Knitr engine render......\n(-) Checking Knitr engine render......\n(\\) Checking Knitr engine render......\n(|) Checking Knitr engine render......\n(/) Checking Knitr engine render......\u001b[2K\u001b[G\n[✓] Checking Knitr engine render......OK"
  },
  {
    "objectID": "getting_started.html#avoid-vertical-lines",
    "href": "getting_started.html#avoid-vertical-lines",
    "title": "1  Getting started",
    "section": "1.1 Avoid vertical lines",
    "text": "1.1 Avoid vertical lines\nThis is the guideline that gives you the biggest bang for your buck. The above table uses waaaay to many grid lines. Without vertical lines, the table will look less cramped.\nThankfully, {gt} seems to live by this rule as it is implemented by default. Thus, we only need to pass our data set penguin_counts_wider to gt(). You can think of this function as the ggplot() analogue. It’s the starting point of any table in the {gt} universe.\n\nlibrary(gt)\npenguin_counts_wider |> \n  gt() \n\n\n\n\n  \n  \n  \n  \n    \n      island\n      year\n      Adelie_female\n      Adelie_male\n      Chinstrap_female\n      Chinstrap_male\n      Gentoo_female\n      Gentoo_male\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\nThis isn’t a great table yet but it’s a start. In any case, it feels more open due to less grid lines. Of course, the column labels could be better which brings us to our next point."
  },
  {
    "objectID": "getting_started.html#use-better-column-names",
    "href": "getting_started.html#use-better-column-names",
    "title": "1  Getting started",
    "section": "1.2 Use better column names",
    "text": "1.2 Use better column names\nTo change the column names use the cols_layer() “layer”. Much like {ggplot2}, {gt} works with layers. To change anything about the table, we just pass the table from layer to the next. This works with piping. Armed with that knowledge, we could label the columns like we did in Figure 1.1.\n\npenguin_counts_wider |> \n  gt() |> \n  cols_label(\n    island = 'Island',\n    year = 'Year',\n    Adelie_female = 'Adelie (female)',\n    Adelie_male = 'Adelie (male)',\n    Chinstrap_female = 'Chinstrap (female)',\n    Chinstrap_male = 'Chinstrap (male)',\n    Gentoo_female = 'Gentoo (female)',\n    Gentoo_male = 'Gentoo (male)',\n  )\n\n\n\n\n\n  \n  \n  \n  \n    \n      Island\n      Year\n      Adelie (female)\n      Adelie (male)\n      Chinstrap (female)\n      Chinstrap (male)\n      Gentoo (female)\n      Gentoo (male)\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\nTable 1.1:  This is a test \n\n\n\n\nBut this isn’t a great way to label the columns. So let’s do something else instead. First, let us create so-called spanners. This joins columns and can be done with tab_spanner() layers. You’ll need one layer for each spanner.\n\npenguin_counts_wider |> \n  gt() |> \n  cols_label(\n    island = 'Island',\n    year = 'Year',\n    Adelie_female = 'Adelie (female)',\n    Adelie_male = 'Adelie (male)',\n    Chinstrap_female = 'Chinstrap (female)',\n    Chinstrap_male = 'Chinstrap (male)',\n    Gentoo_female = 'Gentoo (female)',\n    Gentoo_male = 'Gentoo (male)',\n  ) |> \n  tab_spanner(\n    label = md('**Adelie**'),\n    columns = 3:4\n  ) |> \n  tab_spanner(\n    label = md('**Chinstrap**'),\n    columns = c('Chinstrap_female', 'Chinstrap_male')\n  ) |> \n  tab_spanner(\n    label =  md('**Gentoo**'),\n    columns = contains('Gentoo')\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      Island\n      Year\n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Adelie (female)\n      Adelie (male)\n      Chinstrap (female)\n      Chinstrap (male)\n      Gentoo (female)\n      Gentoo (male)\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\nAs you can see, tab_spanner() always requires two arguments label and columns. For the columns argument I have shown you three ways to get the job done:\n\nVector of column numbers\nVector of column names\ntidyselect helpers\n\nFor the label argument you can either just state a character vector or you can wrap one in md() to enable Markdown syntax (like **bold text**).\nOkay now we don’t really need the Species labels in the actual column names anymore. The spanners already state that for us. So, let us modify our previous code to rename the columns. To do so, let me show you a cool trick that may save you some tedious typing.\nFirst, we create a named vector that contains the actual and the desired column names.\n\nactual_colnames <- colnames(penguin_counts_wider)\nactual_colnames\n## [1] \"island\"           \"year\"             \"Adelie_female\"    \"Adelie_male\"     \n## [5] \"Chinstrap_female\" \"Chinstrap_male\"   \"Gentoo_female\"    \"Gentoo_male\"\ndesired_colnames <- actual_colnames |> \n  str_remove('(Adelie|Gentoo|Chinstrap)_') |> \n  str_to_title()\n\nnames(desired_colnames) <- actual_colnames\ndesired_colnames\n##           island             year    Adelie_female      Adelie_male \n##         \"Island\"           \"Year\"         \"Female\"           \"Male\" \n## Chinstrap_female   Chinstrap_male    Gentoo_female      Gentoo_male \n##         \"Female\"           \"Male\"         \"Female\"           \"Male\"\n\nThen, we can use this named vector as the .list argument in cols_label().\n\npenguin_counts_wider |> \n  gt() |> \n  cols_label(.list = desired_colnames) |> \n  tab_spanner(\n    label = md('**Adelie**'),\n    columns = 3:4\n  ) |> \n  tab_spanner(\n    label = md('**Chinstrap**'),\n    columns = c('Chinstrap_female', 'Chinstrap_male')\n  ) |> \n  tab_spanner(\n    label =  md('**Gentoo**'),\n    columns = contains('Gentoo')\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      Island\n      Year\n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\nFinally, while we’re currently changing labels, let us add an important label - the title. The tab_header() layer does the trick.\n\npenguin_counts_wider |> \n  gt() |> \n  cols_label(.list = desired_colnames) |> \n  tab_spanner(\n    label = md('**Adelie**'),\n    columns = 3:4\n  ) |> \n  tab_spanner(\n    label = md('**Chinstrap**'),\n    columns = c('Chinstrap_female', 'Chinstrap_male')\n  ) |> \n  tab_spanner(\n    label =  md('**Gentoo**'),\n    columns = contains('Gentoo')\n  ) |> \n  tab_header(\n    title = 'Penguins in the Palmer Archipelago',\n    subtitle = 'Data is courtesy of the {palmerpenguins} R package'\n  ) \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      Island\n      Year\n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\nWe will learn more on labels like captions and footnotes, let me refer you to Section 4.1. For now, let us talk about our next guideline.\nBefore we can do that, let me mention one small thing: Our spanners and headers will not change as we move along this tutorial. To avoid repeating them all the time, let me wrap them in a function.\n\nspanners_and_header <- function(gt_tbl) {\n  gt_tbl |> \n    tab_spanner(\n      label = md('**Adelie**'),\n      columns = 3:4\n    ) |> \n    tab_spanner(\n      label = md('**Chinstrap**'),\n      columns = c('Chinstrap_female', 'Chinstrap_male')\n    ) |> \n    tab_spanner(\n      label =  md('**Gentoo**'),\n      columns = contains('Gentoo')\n    ) |> \n    tab_header(\n      title = 'Penguins in the Palmer Archipelago',\n      subtitle = 'Data is courtesy of the {palmerpenguins} R package'\n    ) \n}\n\n# This produces the same output\npenguin_counts_wider |> \n  gt() |> \n  cols_label(.list = desired_colnames)  |> \n  spanners_and_header() \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      Island\n      Year\n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0"
  },
  {
    "objectID": "getting_started.html#align-columns",
    "href": "getting_started.html#align-columns",
    "title": "1  Getting started",
    "section": "1.3 Align columns",
    "text": "1.3 Align columns\nDid you notice that gt() aligned the columns differently? That’s because the columns of the corresponding data.frame/tibble contained different data types. Specifically:\n\nthe counts are integers and aligned to the right\nthe year column is a character vector and uses alignment to the left (though it’s not totally visible because the column is narrow)\nthe island column is a factor and uses center alignment (even though its entries are characters)\n\nIt’s a good default to align numbers to the right and texts to the left. Why? Because it’s more readable. Need an example? Here’s one. Most (western) people will probably say that the left column is the easiest to read because we read from left to right.\n\n\n\n\n\nFor numbers it’s the other way around. That’s because right-aligned numbers make it easy to see how many digits a number has compared to other numbers. This assumes that your numbers use a font that assign equal width to all digits (monospace fonts).\nSo, let us align the island and year column. We can either do this by transforming the data types before even calling gt(). Or we use the cols_align() layer. Once again, this layer understands text locations and tidyselection helpers.\n\nConversionAlign\n\n\n\npenguin_counts_wider |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year)\n  ) |> \n  gt() |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header() \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      Island\n      Year\n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\n\n\n\npenguin_counts_wider |> \n  gt() |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header()  |> \n  cols_align(align = 'right', columns = 'year') |> \n  cols_align(\n    align = 'left', \n    columns = where(is.factor)\n  )\n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      Island\n      Year\n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    Biscoe\n2007\n5\n5\n0\n0\n16\n17\n    Biscoe\n2008\n9\n9\n0\n0\n22\n23\n    Biscoe\n2009\n8\n8\n0\n0\n20\n21\n    Dream\n2007\n9\n10\n13\n13\n0\n0\n    Dream\n2008\n8\n8\n9\n9\n0\n0\n    Dream\n2009\n10\n10\n12\n12\n0\n0\n    Torgersen\n2007\n8\n7\n0\n0\n0\n0\n    Torgersen\n2008\n8\n8\n0\n0\n0\n0\n    Torgersen\n2009\n8\n8\n0\n0\n0\n0"
  },
  {
    "objectID": "getting_started.html#use-groups-instead-of-repetitive-columns",
    "href": "getting_started.html#use-groups-instead-of-repetitive-columns",
    "title": "1  Getting started",
    "section": "1.4 Use groups instead of repetitive columns",
    "text": "1.4 Use groups instead of repetitive columns\nThe island column is somewhat repetitive. In cases like these, I’d rather remove the column. Instead, I would group the table using additional rows. I like to think that this comes with better readability.\nWith {gt} this grouping is easy. We only need to specify the groupname_col argument in gt(). If we want, we can also set the rowname_col argument to year. This will format the “Year” column a bit differently.\n\nGroupsGroups + row names\n\n\n\npenguin_counts_wider |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year)\n  ) |> \n  gt(groupname_col = 'island') |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header() \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      Year\n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    \n      Biscoe\n    \n    2007\n5\n5\n0\n0\n16\n17\n    2008\n9\n9\n0\n0\n22\n23\n    2009\n8\n8\n0\n0\n20\n21\n    \n      Dream\n    \n    2007\n9\n10\n13\n13\n0\n0\n    2008\n8\n8\n9\n9\n0\n0\n    2009\n10\n10\n12\n12\n0\n0\n    \n      Torgersen\n    \n    2007\n8\n7\n0\n0\n0\n0\n    2008\n8\n8\n0\n0\n0\n0\n    2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\n\n\n\npenguin_counts_wider |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year)\n  ) |> \n  gt(groupname_col = 'island', rowname_col = 'year') |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header() \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      \n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    \n      Biscoe\n    \n    2007\n5\n5\n0\n0\n16\n17\n    2008\n9\n9\n0\n0\n22\n23\n    2009\n8\n8\n0\n0\n20\n21\n    \n      Dream\n    \n    2007\n9\n10\n13\n13\n0\n0\n    2008\n8\n8\n9\n9\n0\n0\n    2009\n10\n10\n12\n12\n0\n0\n    \n      Torgersen\n    \n    2007\n8\n7\n0\n0\n0\n0\n    2008\n8\n8\n0\n0\n0\n0\n    2009\n8\n8\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\n\n\n\nIn this case, I prefer the latter style because we don’t really need a “Year” label to identify 2007, 2008 and 2009 as years. But an island label could be nice (I’m really bad with geography). The easiest way to add that to the group names is via string manipulation before gt() is called.\n\npenguin_counts_wider |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year),\n    island = paste0('Island: ', island)\n  ) |> \n  gt(groupname_col = 'island', rowname_col = 'year') |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header() \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      \n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    \n      Island: Biscoe\n    \n    2007\n5\n5\n0\n0\n16\n17\n    2008\n9\n9\n0\n0\n22\n23\n    2009\n8\n8\n0\n0\n20\n21\n    \n      Island: Dream\n    \n    2007\n9\n10\n13\n13\n0\n0\n    2008\n8\n8\n9\n9\n0\n0\n    2009\n10\n10\n12\n12\n0\n0\n    \n      Island: Torgersen\n    \n    2007\n8\n7\n0\n0\n0\n0\n    2008\n8\n8\n0\n0\n0\n0\n    2009\n8\n8\n0\n0\n0\n0"
  },
  {
    "objectID": "getting_started.html#remove-missing-numbers",
    "href": "getting_started.html#remove-missing-numbers",
    "title": "1  Getting started",
    "section": "1.5 Remove missing numbers",
    "text": "1.5 Remove missing numbers\nNotice that our table has a lot of zeroes in it. For better readability, let us replace the zeroes with something more lightweight. We accomplish this with the sub_zero() layer.\n\npenguin_counts_wider |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year),\n    island = paste0('Island: ', island)\n  ) |> \n  gt(groupname_col = 'island', rowname_col = 'year') |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header()  |> \n  sub_zero(zero_text = '-') \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      \n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    \n      Island: Biscoe\n    \n    2007\n5\n5\n-\n-\n16\n17\n    2008\n9\n9\n-\n-\n22\n23\n    2009\n8\n8\n-\n-\n20\n21\n    \n      Island: Dream\n    \n    2007\n9\n10\n13\n13\n-\n-\n    2008\n8\n8\n9\n9\n-\n-\n    2009\n10\n10\n12\n12\n-\n-\n    \n      Island: Torgersen\n    \n    2007\n8\n7\n-\n-\n-\n-\n    2008\n8\n8\n-\n-\n-\n-\n    2009\n8\n8\n-\n-\n-\n-\n  \n  \n  \n\n\n\n\n\nThere are more sub_*() functions in {gt}. We will learn about them in Section 3.2."
  },
  {
    "objectID": "getting_started.html#add-summaries",
    "href": "getting_started.html#add-summaries",
    "title": "1  Getting started",
    "section": "1.6 Add summaries",
    "text": "1.6 Add summaries\nNow, this table looks already cleaner than what we started with. In this format, we could even add more information at little cost.\nFor example, we could add a summary for each group. In this case, a summary could be as simple as a total or maximum over all years (we’ll just assume that this makes sense for our penguin data).\nHere, the key layer is summary_rows(). Let’s have a look at what it can produce and then I’ll explain.\n\npenguin_counts_wider |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year),\n    island = paste0('Island: ', island)\n  ) |> \n  gt(groupname_col = 'island', rowname_col = 'year') |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header()  |> \n  sub_zero(zero_text = '-') |>\n  summary_rows(\n    groups = TRUE,\n    fns = list(\n      'Maximum' = ~max(.),\n      'Total' = ~sum(.)\n    ),\n    formatter = fmt_number,\n    decimals = 0\n  ) \n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      \n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    \n      Island: Biscoe\n    \n    2007\n5\n5\n-\n-\n16\n17\n    2008\n9\n9\n-\n-\n22\n23\n    2009\n8\n8\n-\n-\n20\n21\n    Maximum\n9\n9\n0\n0\n22\n23\n    Total\n22\n22\n0\n0\n58\n61\n    \n      Island: Dream\n    \n    2007\n9\n10\n13\n13\n-\n-\n    2008\n8\n8\n9\n9\n-\n-\n    2009\n10\n10\n12\n12\n-\n-\n    Maximum\n10\n10\n13\n13\n0\n0\n    Total\n27\n28\n34\n34\n0\n0\n    \n      Island: Torgersen\n    \n    2007\n8\n7\n-\n-\n-\n-\n    2008\n8\n8\n-\n-\n-\n-\n    2009\n8\n8\n-\n-\n-\n-\n    Maximum\n8\n8\n0\n0\n0\n0\n    Total\n24\n23\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\nThe summary_rows() function works with a named list of functions (one function for each summary). As you’ve seen, you can create one using list('Name' = ~fct(.)). In this case, . represents the column data. All other arguments can be named as usual. For example, you could do something like ~mean(., na.rm = TRUE).1\nNotice that I had to set groups = TRUE. Otherwise, we would get summary rows at the end of the table (using all data). This is also known as a “grand summary”.\nFurther, the output of the summary function had to be formatted. By default the output would contain two decimals. So, we’d get numbers like 9.00. Here, fmt_number() is the formatter that corrected that. But we had to tell it to use decimals = 0. We’ll learn more about the fmt_*() family in Section 3.1.\nNow that we’ve added more information to the table, it became quite long. We can amend that by reducing the row heights. Frankly, they have been too large for my taste for some time now.\nTo do so, we could set the so-called data_row.padding to 2 pixels. This is done with tab_options(), the premier layer to style the table2. Similarly, there are padding options for summary_row and row_group3. And while we’re at it, why not apply a pre-defined theme to our table with opt_stylize().\n\npenguin_counts_wider |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year),\n    island = paste0('Island: ', island)\n  ) |> \n  gt(groupname_col = 'island', rowname_col = 'year') |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header()  |> \n  sub_zero(zero_text = '-') |>\n  summary_rows(\n    groups = TRUE,\n    fns = list(\n      'Maximum' = ~max(.),\n      'Total' = ~sum(.)\n    ),\n    formatter = fmt_number,\n    decimals = 0\n  )  |> \n  tab_options(\n    data_row.padding = px(2),\n    summary_row.padding = px(3), # A bit more padding for summaries\n    row_group.padding = px(4)    # And even more for our groups\n  ) |> \n  opt_stylize(style = 6, color = 'gray')\n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      \n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    \n      Island: Biscoe\n    \n    2007\n5\n5\n-\n-\n16\n17\n    2008\n9\n9\n-\n-\n22\n23\n    2009\n8\n8\n-\n-\n20\n21\n    Maximum\n9\n9\n0\n0\n22\n23\n    Total\n22\n22\n0\n0\n58\n61\n    \n      Island: Dream\n    \n    2007\n9\n10\n13\n13\n-\n-\n    2008\n8\n8\n9\n9\n-\n-\n    2009\n10\n10\n12\n12\n-\n-\n    Maximum\n10\n10\n13\n13\n0\n0\n    Total\n27\n28\n34\n34\n0\n0\n    \n      Island: Torgersen\n    \n    2007\n8\n7\n-\n-\n-\n-\n    2008\n8\n8\n-\n-\n-\n-\n    2009\n8\n8\n-\n-\n-\n-\n    Maximum\n8\n8\n0\n0\n0\n0\n    Total\n24\n23\n0\n0\n0\n0\n  \n  \n  \n\n\n\n\n\nThis has been a little foretaste of styling a table. We’ll learn more about changing a table’s theme in Section 4.2.\nFinally, let me address the big inconsistency in the room. We have replaced the zeroes by - earlier. However, the summary rows still display 0. Unfortunately, there is no sub_zero() function that targets the summary rows. So, we’ll do something else instead.\nIn our data set we have replaced all NAs with zero. But we didn’t have to do that. We could just let them be NAs and use sub_missing() to replace them. In summary_rows(), we could then use missing_text = \"-\". I think you get the idea, so I’m just going to fold the code (so you can focus on the result).\n\n\nCode\npenguin_counts_wider |> \n  mutate(across(.cols = -(1:2), ~if_else(. == 0, NA_integer_, .))) |> \n  mutate(\n    island = as.character(island), \n    year = as.numeric(year),\n    island = paste0('Island: ', island)\n  ) |> \n  gt(groupname_col = 'island', rowname_col = 'year') |> \n  cols_label(.list = desired_colnames) |> \n  spanners_and_header()  |> \n  sub_missing(missing_text = '-') |>\n  summary_rows(\n    groups = TRUE,\n    fns = list(\n      'Maximum' = ~max(.),\n      'Total' = ~sum(.) \n    ),\n    formatter = fmt_number,\n    decimals = 0,\n    missing_text = '-'\n  )  |> \n  tab_options(\n    data_row.padding = px(2),\n    summary_row.padding = px(3), # A bit more padding for summaries\n    row_group.padding = px(4)    # And even more for our groups\n  ) |> \n  opt_stylize(style = 6, color = 'gray')\n\n\n\n\n\n  \n  \n  \n    \n      Penguins in the Palmer Archipelago\n    \n    \n      Data is courtesy of the {palmerpenguins} R package\n    \n  \n  \n    \n      \n      \n        Adelie\n      \n      \n        Chinstrap\n      \n      \n        Gentoo\n      \n    \n    \n      Female\n      Male\n      Female\n      Male\n      Female\n      Male\n    \n  \n  \n    \n      Island: Biscoe\n    \n    2007\n5\n5\n-\n-\n16\n17\n    2008\n9\n9\n-\n-\n22\n23\n    2009\n8\n8\n-\n-\n20\n21\n    Maximum\n9\n9\n-\n-\n22\n23\n    Total\n22\n22\n-\n-\n58\n61\n    \n      Island: Dream\n    \n    2007\n9\n10\n13\n13\n-\n-\n    2008\n8\n8\n9\n9\n-\n-\n    2009\n10\n10\n12\n12\n-\n-\n    Maximum\n10\n10\n13\n13\n-\n-\n    Total\n27\n28\n34\n34\n-\n-\n    \n      Island: Torgersen\n    \n    2007\n8\n7\n-\n-\n-\n-\n    2008\n8\n8\n-\n-\n-\n-\n    2009\n8\n8\n-\n-\n-\n-\n    Maximum\n8\n8\n-\n-\n-\n-\n    Total\n24\n23\n-\n-\n-\n-"
  },
  {
    "objectID": "getting_started.html#summary",
    "href": "getting_started.html#summary",
    "title": "1  Getting started",
    "section": "1.7 Summary",
    "text": "1.7 Summary\nWe’ve started this chapter with a terrible table that needed improvement. Over the course of this chapter, we learned and applied six guidelines with {gt}. These guidelines were\n\nAvoid vertical lines\nUse better column names\nAlign columns\nUse groups instead of repetitive columns\nRemove missing numbers\nAdd summaries\n\nIn the table business, these guidelines are pretty basic. I don’t mean basic in a bad or boring way. It’s just that these are solid recommendations that improve tables without any fancy stuff. No icons, no pictures, no other eye-catching elements. Just plain data formatted carefully.\nSo now we’ve learned the basics. No need to stop there. Let’s learn the fancy stuff too. That’s what we’ll do in the next chapter."
  },
  {
    "objectID": "fancy_stuff.html#transform-columns-into-heatmaps",
    "href": "fancy_stuff.html#transform-columns-into-heatmaps",
    "title": "2  Fancy stuff / Eye catchers",
    "section": "2.1 Transform columns into heatmaps",
    "text": "2.1 Transform columns into heatmaps\nIn this table, we can see that Sierra Leone had by far the lowest life expectancy in 2007 (among the depicted countries). We can figure this out by comparing the numbers in the most recent column one-by-one.\nBut that takes quite a lot of effort. Instead, let us make that easier to see by transforming that column into a heat map. To do so, just pass our table to gt_color_rows(). What you’ll need to specify, is\n\nthe targeted columns\nthe range of the values that are supposed to be colored\ntwo colors that are used as linear gradient\n\n\n# Two colors from the Okabe Ito color palette\ncolor_palette <- c(\"#CC79A7\", \"#009E73\")\n\nselected_countries |> \n  gt(groupname_col = 'continent') |> \n  tab_header(\n    title = 'Life Expectancies over time',\n    subtitle = 'Data is courtesy of the Gapminder foundation'\n  ) |> \n  cols_label(.list = new_colnames) |> \n  fmt_number(columns = where(is.numeric), decimals = 2) |> \n  gt_theme_538() |> \n  gt_color_rows(\n    columns = year2007, \n    domain = c(30, 85),\n    palette = color_palette\n  )\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23\n  \n  \n  \n\n\n\n\n\nWe could also do this for more columns. For example, we could also do the same with the 1957 column.\n\n# Two colors from the Okabe Ito color palette\ncolor_palette <- c(\"#CC79A7\", \"#009E73\")\n\nselected_countries |> \n  gt(groupname_col = 'continent') |> \n  tab_header(\n    title = 'Life Expectancies over time',\n    subtitle = 'Data is courtesy of the Gapminder foundation'\n  ) |> \n  cols_label(.list = new_colnames) |> \n  fmt_number(columns = where(is.numeric), decimals = 2) |> \n  gt_theme_538() |> \n  gt_color_rows(\n    columns = c(year1957, year2007), \n    domain = c(30, 85),\n    palette = color_palette\n  )\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23\n  \n  \n  \n\n\n\n\n\nYou could even do that with all columns. But I am not sure whether that’s a good idea here. After all, we may not want to overload our table with colors."
  },
  {
    "objectID": "fancy_stuff.html#add-sparklines",
    "href": "fancy_stuff.html#add-sparklines",
    "title": "2  Fancy stuff / Eye catchers",
    "section": "2.2 Add sparklines",
    "text": "2.2 Add sparklines\nIt is quite hard to figure out that each depicted country increased its life expectancy in each year. Sure, you may have an idea that this is the case. But to be sure for real, you will have to compare each cell of each row.\nWhy don’t we make that a little bit easier? Let us add small line charts. This kind of chart is known as a sparkline. It’s main advantage is that it can make patterns really obvious. Have a look for yourself.\n\n\n\n\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n      Timeline\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n          71.3\n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n          42.6\n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n          72.9\n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n          72.6\n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n          74.1\n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n          80.0\n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n          79.8\n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n          79.4\n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n          80.2\n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23\n          81.2\n  \n  \n  \n\n\n\n\n\nTo create such a table we first need a tibble that has a column Timeline that contains the values from 1957 to 2007. A column that contains more than one value per cell, you say? Yes, you heard that correctly. What we need is a tibble with list-like columns. Sounds fancy if you’ve never heard it before but it is not actually that hard to create one. Here’s what we’re going to do.\n\nTake the original data set gapminder_data and filter it such that it contains the same years and countries as our data set selected_countries\nGroup the filtered data set by country and run summarise(Timeline = list(c(life_exp))).\n\nThe trick here is to wrap the combine function c() into list(). This way, the new list will become one object that will be saved into a tibble’s cell.\n\nFilterSummary\n\n\n\ngapminder_data |> \n  filter(\n    str_ends(year, \"7\"),\n    country %in% selected_countries$country\n  )\n## # A tibble: 60 × 4\n##    continent country   year  life_exp\n##    <fct>     <fct>     <chr>    <dbl>\n##  1 Oceania   Australia 1957      70.3\n##  2 Oceania   Australia 1967      71.1\n##  3 Oceania   Australia 1977      73.5\n##  4 Oceania   Australia 1987      76.3\n##  5 Oceania   Australia 1997      78.8\n##  6 Oceania   Australia 2007      81.2\n##  7 Africa    Egypt     1957      44.4\n##  8 Africa    Egypt     1967      49.3\n##  9 Africa    Egypt     1977      53.3\n## 10 Africa    Egypt     1987      59.8\n## # … with 50 more rows\n\n\n\n\nlife_exps_timeline <- gapminder_data |> \n  filter(\n    str_ends(year, \"7\"),\n    country %in% selected_countries$country\n  ) |> \n  group_by(country) |> \n  summarise(Timeline = list(c(life_exp)))\nlife_exps_timeline\n## # A tibble: 10 × 2\n##    country        Timeline \n##    <fct>          <list>   \n##  1 Australia      <dbl [6]>\n##  2 Egypt          <dbl [6]>\n##  3 Jamaica        <dbl [6]>\n##  4 Netherlands    <dbl [6]>\n##  5 New Zealand    <dbl [6]>\n##  6 Nicaragua      <dbl [6]>\n##  7 Sierra Leone   <dbl [6]>\n##  8 Singapore      <dbl [6]>\n##  9 Syria          <dbl [6]>\n## 10 United Kingdom <dbl [6]>\n\n\n\n\nNow we can run a quick left_join() to, well, join our two data sets. Then it’s gt()-time. This will list all values of the Timeline column in the {gt} table. Have a look.\n\nselected_countries |> \n  left_join(life_exps_timeline, by = 'country') |> \n  gt(groupname_col = 'continent') |> \n  tab_header(\n    title = 'Life Expectancies over time',\n    subtitle = 'Data is courtesy of the Gapminder foundation'\n  ) |> \n  cols_label(.list = new_colnames) |> \n  fmt_number(columns = where(is.numeric), decimals = 2) |> \n  gt_theme_538() |> \n  gt_color_rows(\n    columns = c(year1957, year2007), \n    domain = c(30, 85),\n    palette = color_palette\n  )\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n      Timeline\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n44.444, 49.293, 53.319, 59.797, 67.217, 71.338\n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n31.570, 34.113, 36.788, 40.006, 39.897, 42.568\n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n45.432, 51.884, 57.470, 62.008, 68.426, 72.899\n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n62.610, 67.510, 70.110, 71.770, 72.262, 72.567\n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n48.284, 53.655, 61.195, 66.974, 71.527, 74.143\n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n63.179, 67.946, 70.795, 73.560, 77.158, 79.972\n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n72.990, 73.820, 75.240, 76.830, 78.030, 79.762\n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n70.420, 71.360, 72.760, 75.007, 77.218, 79.425\n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n70.260, 71.520, 72.220, 74.320, 77.550, 80.204\n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23\n70.330, 71.100, 73.490, 76.320, 78.830, 81.235\n  \n  \n  \n\n\n\n\n\nFinally, the last ingredient is to target the Timeline column with the gt_plt_sparkline() layer. In that layer, we can adjust the colors and the dimensions of our sparkline too.\n\n## Join First\nselected_countries |> \n  left_join(life_exps_timeline, by = 'country') |> \n## Do table as before\n  gt(groupname_col = 'continent') |> \n  tab_header(\n    title = 'Life Expectancies over time',\n    subtitle = 'Data is courtesy of the Gapminder foundation'\n  ) |> \n  cols_label(.list = new_colnames) |> \n  fmt_number(columns = where(is.numeric), decimals = 2) |> \n  gt_theme_538() |> \n  gt_color_rows(\n    columns = c(year1957, year2007), \n    domain = c(30, 85),\n    palette = color_palette\n  ) |> \n## Target Timeline column\n  gt_plt_sparkline(\n    column = Timeline,\n    palette = c(\"grey40\", \"grey40\", \"grey40\", \"dodgerblue1\", \"grey40\"),\n    fig_dim = c(5, 28)\n  )\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n      Timeline\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n          71.3\n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n          42.6\n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n          72.9\n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n          72.6\n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n          74.1\n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n          80.0\n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n          79.8\n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n          79.4\n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n          80.2\n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23\n          81.2\n  \n  \n  \n\n\n\n\n\nAlright, we’ve created the our first table that contains a plot. The pattern to add fancy plots/images/fancy stuff is always the same, so let’s recap.\n\nStep 1: Get the necessary data for the image into the tibble before even calling gt(). This will give you additional columns.\nStep 2: Target the additional columns with a new layer."
  },
  {
    "objectID": "fancy_stuff.html#add-bullet-charts",
    "href": "fancy_stuff.html#add-bullet-charts",
    "title": "2  Fancy stuff / Eye catchers",
    "section": "2.3 Add bullet charts",
    "text": "2.3 Add bullet charts\nAs we know, the gapminder data set is much is larger than what we show here. In fact, we have the same data for many more countries. But showing all of that information would make the table HUUUGE.\nWe could still use that information, though. Here, we could put the life expectancy of our selected countries into context. For example, for each country let us compare its life expectancy to the mean life expectancy of its continent . A so-called bullet chart will do the trick. Check it out.\n\n\n\n\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n      Comparison 2007continent mean | country\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n          \n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n          \n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n          \n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n          \n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n          \n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n          \n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n          \n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n          \n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n          \n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23\n          \n  \n  \n  \n\n\n\n\n\nIn this table you can see that Sierra Leone’s life expectancy in 2007 is way below Africa’s mean life expectancy. In contrast, Egypt’s life expectancy is much higher than Africa’s mean life expectancy.\nSo, how do we create this table? Well, do you remember the first step of getting fancy plots into your table? That’s right. Expand your tibble with the necessary data for your plot.\nIn this case, that’s two things: The life expectancy of a country in 2007 and the continent’s mean life expectancy. So, we’re going to add two new columns. One of the columns will just be a duplicate of an already existent column though.\n\nmean_life_exps <- gapminder_data |> \n  filter(year == \"2007\") |> \n  group_by(continent) |> \n  summarise(mean_life_exp = mean(life_exp))\n\nselected_countries_joined_info <- selected_countries |> \n  left_join(mean_life_exps, by = 'continent') |> \n  mutate(rep2007 = year2007)\nselected_countries_joined_info\n## # A tibble: 10 × 10\n##    continent country     year1…¹ year1…² year1…³ year1…⁴ year1…⁵ year2…⁶ mean_…⁷\n##    <fct>     <fct>         <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>   <dbl>\n##  1 Africa    Egypt          44.4    49.3    53.3    59.8    67.2    71.3    54.8\n##  2 Africa    Sierra Leo…    31.6    34.1    36.8    40.0    39.9    42.6    54.8\n##  3 Americas  Nicaragua      45.4    51.9    57.5    62.0    68.4    72.9    73.6\n##  4 Americas  Jamaica        62.6    67.5    70.1    71.8    72.3    72.6    73.6\n##  5 Asia      Syria          48.3    53.7    61.2    67.0    71.5    74.1    70.7\n##  6 Asia      Singapore      63.2    67.9    70.8    73.6    77.2    80.0    70.7\n##  7 Europe    Netherlands    73.0    73.8    75.2    76.8    78.0    79.8    77.6\n##  8 Europe    United Kin…    70.4    71.4    72.8    75.0    77.2    79.4    77.6\n##  9 Oceania   New Zealand    70.3    71.5    72.2    74.3    77.6    80.2    80.7\n## 10 Oceania   Australia      70.3    71.1    73.5    76.3    78.8    81.2    80.7\n## # … with 1 more variable: rep2007 <dbl>, and abbreviated variable names\n## #   ¹​year1957, ²​year1967, ³​year1977, ⁴​year1987, ⁵​year1997, ⁶​year2007,\n## #   ⁷​mean_life_exp\n\nNext step is using the two new columns in a layer that creates the bullet chart. That’s gt_plt_bullet(). Two of its arguments are designed for the two new columns.\n\nselected_countries_joined_info |> \n## Do table as before\n  gt(groupname_col = 'continent') |> \n  tab_header(\n    title = 'Life Expectancies over time',\n    subtitle = 'Data is courtesy of the Gapminder foundation'\n  ) |> \n  cols_label(.list = new_colnames) |> \n  fmt_number(columns = where(is.numeric), decimals = 2) |> \n  gt_theme_538() |> \n  gt_color_rows(\n    columns = c(year1957, year2007), \n    domain = c(30, 85),\n    palette = color_palette\n  ) |> \n## Use mean_life_exp and rep2007\n  gt_plt_bullet(\n    column = rep2007,\n    target = mean_life_exp,\n    palette = c(\"dodgerblue4\", \"dodgerblue1\"),\n    width = 45 # width in px\n  )\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n      rep2007\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n          \n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n          \n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n          \n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n          \n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n          \n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n          \n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n          \n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n          \n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n          \n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23\n          \n  \n  \n  \n\n\n\n\n\nFinally, we need to relabel the rep2007 column with cols_label(). And to make the new label use colors, we will have to write a label with HTML. Here’s what you need to know for that:\n\n<br> is a line break in HTML\n<span style=\"color:red;font-size:24pt;\">some text</span> would result in some text.\n\nSo, just create a character variable in R that uses this Syntax and let gt() know that you mean business HTML. The latter can be done with html().\n\n# I like to use str_c() to connect strings to make the text less messy\nhtml_text <- str_c(\n  'Comparison 2007',\n  '<br>',\n  '<span style=\"color:#1e90ff;display:inline;\">',\n  'continent mean', \n  '</span> | ',\n  '<span style=\"color:#104e8b;display:inline;\">',\n  'country',\n  '</span>'\n)\n\nselected_countries_joined_info |> \n## Do table as before\n  gt(groupname_col = 'continent') |> \n  tab_header(\n    title = 'Life Expectancies over time',\n    subtitle = 'Data is courtesy of the Gapminder foundation'\n  ) |> \n  cols_label(.list = new_colnames) |> \n  fmt_number(columns = where(is.numeric), decimals = 2) |> \n  gt_theme_538() |> \n  gt_color_rows(\n    columns = c(year1957, year2007), \n    domain = c(30, 85),\n    palette = color_palette\n  ) |> \n## Target mean_life_exp column and change it's column name\n  gt_plt_bullet(\n    column = rep2007,\n    target = mean_life_exp,\n    palette = c(\"dodgerblue4\", \"dodgerblue1\"),\n    width = 45\n  ) |> \n  cols_label(rep2007 = html(html_text))\n\n\n\n\n  \n  \n  \n    \n      Life Expectancies over time\n    \n    \n      Data is courtesy of the Gapminder foundation\n    \n  \n  \n    \n      \n      1957\n      1967\n      1977\n      1987\n      1997\n      2007\n      Comparison 2007continent mean | country\n    \n  \n  \n    \n      Africa\n    \n    Egypt\n44.44\n49.29\n53.32\n59.80\n67.22\n71.34\n          \n    Sierra Leone\n31.57\n34.11\n36.79\n40.01\n39.90\n42.57\n          \n    \n      Americas\n    \n    Nicaragua\n45.43\n51.88\n57.47\n62.01\n68.43\n72.90\n          \n    Jamaica\n62.61\n67.51\n70.11\n71.77\n72.26\n72.57\n          \n    \n      Asia\n    \n    Syria\n48.28\n53.66\n61.20\n66.97\n71.53\n74.14\n          \n    Singapore\n63.18\n67.95\n70.80\n73.56\n77.16\n79.97\n          \n    \n      Europe\n    \n    Netherlands\n72.99\n73.82\n75.24\n76.83\n78.03\n79.76\n          \n    United Kingdom\n70.42\n71.36\n72.76\n75.01\n77.22\n79.42\n          \n    \n      Oceania\n    \n    New Zealand\n70.26\n71.52\n72.22\n74.32\n77.55\n80.20\n          \n    Australia\n70.33\n71.10\n73.49\n76.32\n78.83\n81.23"
  },
  {
    "objectID": "fancy_stuff.html#include-icons-in-your-tables",
    "href": "fancy_stuff.html#include-icons-in-your-tables",
    "title": "2  Fancy stuff / Eye catchers",
    "section": "2.4 Include icons in your tables",
    "text": "2.4 Include icons in your tables\nAdding icons to any {gt} table is easy. You don’t actually need anything but the icon itself. Thankfully, R has just the right {emoji} package to get the work done. Once you’ve got the data, just send that to gt() and you’re done.\n\nvegetables <- tibble(\n  Vegetable = c('eggplant', 'cucumber', 'broccoli', 'garlic', 'onion')\n) |> \n  mutate(\n# Apply emoji() function to every text from Vegetable column\n    Emoji = map_chr(Vegetable, emoji::emoji),\n    Vegetable = str_to_title(Vegetable)\n  ) \nvegetables\n## # A tibble: 5 × 2\n##   Vegetable Emoji\n##   <chr>     <chr>\n## 1 Eggplant  🍆   \n## 2 Cucumber  🥒   \n## 3 Broccoli  🥦   \n## 4 Garlic    🧄   \n## 5 Onion     🧅\n\nvegetables |> \n  gt() |> \n  tab_header(\n    title = 'VegeTABLE',\n    subtitle = 'Emojis are taken from the {emoji} package'\n  ) |> \n# This part makes emojis larger\n  tab_style(\n    style = list(cell_text(size = px(25))),\n    locations = cells_body(columns = 'Emoji')\n  )\n\n\n\n\n  \n  \n  \n    \n      VegeTABLE\n    \n    \n      Emojis are taken from the {emoji} package\n    \n  \n  \n    \n      Vegetable\n      Emoji\n    \n  \n  \n    Eggplant\n🍆\n    Cucumber\n🥒\n    Broccoli\n🥦\n    Garlic\n🧄\n    Onion\n🧅\n  \n  \n  \n\n\n\n\n\nNotice that I have increased the size of the emojis here. Think of this as a teaser for what we’re going to do in Section 4.2.\nThe same works with fontawesome icons as well. But you have to be a little bit more careful in that case. The {fontawesome} package will give you an icon as HTML code. Thus, you need to wrap the output from fontawesome::fa() in html().\n\nbrands <- tibble(\n  Brand = c('twitter', 'facebook', 'linkedin', 'github'),\n  color = c('#1DA1F2', '#4267B2', '#0077B5', '#333' )\n) |>\n  mutate(\n# Apply fa() function with all values from columns Brand and color\n    Emoji = map2(Brand, color, ~fontawesome::fa(.x, fill = .y)),\n# Apply html() function to previous results\n    Emoji = map(Emoji, html),\n    Brand = str_to_title(Brand)\n  ) |>\n  select(-color)\nbrands\n## # A tibble: 4 × 2\n##   Brand    Emoji     \n##   <chr>    <list>    \n## 1 Twitter  <html [1]>\n## 2 Facebook <html [1]>\n## 3 Linkedin <html [1]>\n## 4 Github   <html [1]>\n\nbrands |>\n  gt(id = 'my_tbl') |>\n  tab_header(\n    title = 'Brand table',\n    subtitle = 'Icons are taken from the {fontawesome} package'\n  )  |>\n# This part makes emojis larger\n  tab_style(\n    style = list(cell_text(size = px(25))),\n    locations = cells_body(columns = 'Emoji')\n  ) \n\n\n\n\n  \n  \n  \n    \n      Brand table\n    \n    \n      Icons are taken from the {fontawesome} package\n    \n  \n  \n    \n      Brand\n      Emoji\n    \n  \n  \n    Twitter\n\n    Facebook\n\n    Linkedin\n\n    Github"
  },
  {
    "objectID": "fancy_stuff.html#include-images-in-your-tables",
    "href": "fancy_stuff.html#include-images-in-your-tables",
    "title": "2  Fancy stuff / Eye catchers",
    "section": "2.5 Include images in your tables",
    "text": "2.5 Include images in your tables\nThe easiest way to add images to your table is to rely on gt_img_rows() from {gtExtras}. Just add a column with file paths/URLs of images to your tibble. Then, target that column with gt_img_rows() and your work is done.\nFor example, you could use this to get images of the last four British prime ministers from Wikipedia and use them in a table.1\n\npm_data <- tribble(\n  ~Name, ~Image,\n  'Rishi Sunak', 'https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/Rishi_Sunak%27s_first_speech_as_Prime_Minister_Front_%28cropped%29.jpg/1024px-Rishi_Sunak%27s_first_speech_as_Prime_Minister_Front_%28cropped%29.jpg',\n  'Liz Truss', 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Liz_Truss_official_portrait_%28cropped%292.jpg/292px-Liz_Truss_official_portrait_%28cropped%292.jpg',\n  'Boris Johnson', 'https://upload.wikimedia.org/wikipedia/commons/thumb/7/76/Boris_Johnson_official_portrait_%28cropped%29.jpg/288px-Boris_Johnson_official_portrait_%28cropped%29.jpg',\n  'Theresa May', 'https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Theresa_May_cropped.png/291px-Theresa_May_cropped.png'\n)\n\npm_data |>\n  gt() |>\n  gt_img_rows(columns = 'Image', height = 100)\n\n\n\n\n  \n  \n  \n  \n    \n      Name\n      Image\n    \n  \n  \n    Rishi Sunak\n\n    Liz Truss\n\n    Boris Johnson\n\n    Theresa May\n\n  \n  \n  \n\n\n\n\n\nAlternatively, you can use gt_img_circle(). This will give you round images. But you have to be careful that your column width matches the height of your image. You can achieve that with cols_width(). This function’s syntax is really simple. Basically, it’s cols_width(column ~ px(<number of pixels>)).\n\npm_data_round <- tribble(\n  ~Name, ~Image,\n  'Rishi Sunak', 'https://pbs.twimg.com/profile_images/1572638567381307394/AEahAxu5_400x400.jpg',\n  'Liz Truss', 'https://pbs.twimg.com/profile_images/1514636699946602499/hUoOgAOz_400x400.jpg',\n  'Boris Johnson', 'https://pbs.twimg.com/profile_images/1500170386520129536/Rr2G6A-N_400x400.jpg',\n  'Theresa May', 'https://pbs.twimg.com/profile_images/936639677121081344/_e5l_DEG_400x400.jpg'\n)\n\npm_data_round |>\n  gt() |>\n  gt_img_circle(column = 'Image', height = 100, border_weight = 1) |>\n  cols_width(Image ~ px(110)) # 110 = 100 (height) + 10 (padding around imgs)\n\n\n\n\n  \n  \n  \n    \n    \n  \n  \n  \n    \n      Name\n      Image\n    \n  \n  \n    Rishi Sunak\n\n    Liz Truss\n\n    Boris Johnson\n\n    Theresa May"
  },
  {
    "objectID": "fancy_stuff.html#add-arbitrary-plots-to-your-table",
    "href": "fancy_stuff.html#add-arbitrary-plots-to-your-table",
    "title": "2  Fancy stuff / Eye catchers",
    "section": "2.6 Add arbitrary plots to your table",
    "text": "2.6 Add arbitrary plots to your table\nSo far we’ve learned to add spark lines, bullet charts, icons and images to our tables. There are some other cool visual elements that can be added with help from {gtExtras}. You should definitely check out its documentation to see the full list.\nFor my final trick of this chapter, I’m going to show you how you can add any ggplot to your table. For example, we could look at our penguins from last chapter again. Here’s a table about their weight and its distribution (visualized with a violin plot.)\n\n\n\n\n\n  \n  \n  \n  \n    \n      Species\n      \n        Penguin's Weight\n      \n    \n    \n      Min\n      Mean\n      Max\n      Distribution\n    \n  \n  \n    Adelie\n2850\n3706.16\n4775\n\n    Chinstrap\n2700\n3733.09\n4800\n\n    Gentoo\n3950\n5092.44\n6300\n\n  \n  \n  \n\n\n\n\n\nTo create this table, let us begin with the basics. Let’s compute the numeric values first.\n\nfiltered_penguins <- palmerpenguins::penguins |>\n    filter(!is.na(sex))\n\npenguin_weights <- filtered_penguins |>\n  group_by(species) |>\n  summarise(\n    Min = min(body_mass_g),\n    Mean = mean(body_mass_g) |> round(digits = 2),\n    Max = max(body_mass_g)\n  ) |>\n  mutate(species = as.character(species)) |>\n  rename(Species = species)\n\npenguin_weights |>\n  gt() |>\n  tab_spanner(\n    label = 'Penguin\\'s Weight',\n    columns = -Species\n  ) \n\n\n\n\n  \n  \n  \n  \n    \n      Species\n      \n        Penguin's Weight\n      \n    \n    \n      Min\n      Mean\n      Max\n    \n  \n  \n    Adelie\n2850\n3706.16\n4775\n    Chinstrap\n2700\n3733.09\n4800\n    Gentoo\n3950\n5092.44\n6300\n  \n  \n  \n\n\n\n\n\nNext, let us write a function plot_violin_species(my_species) that depends on a penguin species and creates one violin plot.\n\nplot_density_species <- function(my_species) {\n  full_range <- filtered_penguins |>\n    pull(body_mass_g) |>\n    range()\n\n  filtered_penguins |>\n    filter(species == my_species) |>\n    ggplot(aes(x = body_mass_g, y = species)) +\n    geom_violin(fill = 'dodgerblue4') +\n    theme_minimal() +\n    scale_y_discrete(breaks = NULL) +\n    scale_x_continuous(breaks = NULL) +\n    labs(x = element_blank(), y = element_blank()) +\n    coord_cartesian(xlim = full_range)\n}\nplot_density_species('Adelie')\n\n\n\n\nNotice that I have set the coordinate system of the plot to the full range of the data (regardless of the species). This part is important. Without this trick, the three plots would not share a common x-axis. Then, our table might look something like this:\n\n\n\n\n\n  \n  \n  \n  \n    \n      Species\n      \n        Penguin's Weight\n      \n    \n    \n      Min\n      Mean\n      Max\n      Distribution\n    \n  \n  \n    Adelie\n2850\n3706.16\n4775\n\n    Chinstrap\n2700\n3733.09\n4800\n\n    Gentoo\n3950\n5092.44\n6300\n\n  \n  \n  \n\nWATCH OUT: The violin plots are not using a shared axis here and are misleading\n\n\n\nOk, so now we have a function that creates the desired plots. Time to apply it to our table. For this to work, we need an additional column that we can target (just like before).\n\npenguin_weights |>\n  mutate(Distribution = Species) |> \n  gt() |>\n  tab_spanner(\n    label = 'Penguin\\'s Weight',\n    columns = -Species\n  ) \n\n\n\n\n  \n  \n  \n  \n    \n      Species\n      \n        Penguin's Weight\n      \n    \n    \n      Min\n      Mean\n      Max\n      Distribution\n    \n  \n  \n    Adelie\n2850\n3706.16\n4775\nAdelie\n    Chinstrap\n2700\n3733.09\n4800\nChinstrap\n    Gentoo\n3950\n5092.44\n6300\nGentoo\n  \n  \n  \n\n\n\n\n\nNext, use the text_transform() layer to turn the species names into ggplot images. This layer can actually target not just the data rows but everything including column labels or the table header.\nSo, we have to make sure that we attempt to turn only the data table cells into an image and not, say, the tab spanner. This is done with the helper function cells_body() (more on this function in Section 4.2). Here’s how that will look.\n\npenguin_weights |>\n  mutate(Distribution = Species) |> \n  gt() |>\n  tab_spanner(\n    label = 'Penguin\\'s Weight',\n    columns = -Species\n  ) |>\n  text_transform(\n    locations = cells_body(columns = 'Distribution'),\n    fn = #Put function here\n  ) \n\nFinally, we need to set the fn argument to a function that takes a column and returns actual images. This is not our plot_density_species() function. This one takes only one species name and returns one ggplot object.\nBut we can wrap it in map() such that a column is turned into a list of ggplot objects. The conversion to images is performed by ggplot_image(). We can use it to also specify the height and width (indirectly via aspect ratio) of the image.\n\npenguin_weights |>\n  mutate(Distribution = Species) |> \n  gt() |>\n  tab_spanner(\n    label = 'Penguin\\'s Weight',\n    columns = -Species\n  ) |>\n  text_transform(\n    locations = cells_body(columns = 'Distribution'),\n    fn = function(column) {\n      map(column, plot_density_species) |>\n        ggplot_image(height = px(50), aspect_ratio = 3)\n    }\n  ) \n\n\n\n\n  \n  \n  \n  \n    \n      Species\n      \n        Penguin's Weight\n      \n    \n    \n      Min\n      Mean\n      Max\n      Distribution\n    \n  \n  \n    Adelie\n2850\n3706.16\n4775\n\n    Chinstrap\n2700\n3733.09\n4800\n\n    Gentoo\n3950\n5092.44\n6300"
  },
  {
    "objectID": "fancy_stuff.html#summary-1",
    "href": "fancy_stuff.html#summary-1",
    "title": "2  Fancy stuff / Eye catchers",
    "section": "2.7 Summary",
    "text": "2.7 Summary\nSweet! We’ve learned a lot of fancy table elements. Some of them were quite easy to implement. Some of them not so much.\nIn the next chapter, we’re going to take a breather. We’re going to learn about the two families of sub_* and fmt_*. They’re super easy to learn and crucial for formatting the data in your table."
  },
  {
    "objectID": "formatting.html#sec-fmt-functions",
    "href": "formatting.html#sec-fmt-functions",
    "title": "3  Formatting",
    "section": "3.1 fmt_* functions",
    "text": "3.1 fmt_* functions\nFirst, we need some example data to practice on. Thankfully, {gt} already comes with data sets that use many different data formats. Let me introduce you to {gt}’s example tibble, or short exibble.\n\nlibrary(tidyverse)\nlibrary(gt)\nexibble\n## # A tibble: 8 × 9\n##           num char       fctr  date       time  datetime    currency row   group\n##         <dbl> <chr>      <fct> <chr>      <chr> <chr>          <dbl> <chr> <chr>\n## 1       0.111 apricot    one   2015-01-15 13:35 2018-01-01…    50.0  row_1 grp_a\n## 2       2.22  banana     two   2015-02-15 14:40 2018-02-02…    18.0  row_2 grp_a\n## 3      33.3   coconut    three 2015-03-15 15:45 2018-03-03…     1.39 row_3 grp_a\n## 4     444.    durian     four  2015-04-15 16:50 2018-04-04… 65100    row_4 grp_a\n## 5    5550     <NA>       five  2015-05-15 17:55 2018-05-05…  1326.   row_5 grp_b\n## 6      NA     fig        six   2015-06-15 <NA>  2018-06-06…    13.3  row_6 grp_b\n## 7  777000     grapefruit seven <NA>       19:10 2018-07-07…    NA    row_7 grp_b\n## 8 8880000     honeydew   eight 2015-08-15 20:20 <NA>            0.44 row_8 grp_b\n\nLet’s put this into a {gt} table. We’re going to use one of the pre-defined themes.\n\nexibble |> \n  gt() |> \n  opt_stylize(style = 3)\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      char\n      fctr\n      date\n      time\n      datetime\n      currency\n      row\n      group\n    \n  \n  \n    1.111e-01\napricot\none\n2015-01-15\n13:35\n2018-01-01 02:22\n49.950\nrow_1\ngrp_a\n    2.222e+00\nbanana\ntwo\n2015-02-15\n14:40\n2018-02-02 14:33\n17.950\nrow_2\ngrp_a\n    3.333e+01\ncoconut\nthree\n2015-03-15\n15:45\n2018-03-03 03:44\n1.390\nrow_3\ngrp_a\n    4.444e+02\ndurian\nfour\n2015-04-15\n16:50\n2018-04-04 15:55\n65100.000\nrow_4\ngrp_a\n    5.550e+03\nNA\nfive\n2015-05-15\n17:55\n2018-05-05 04:00\n1325.810\nrow_5\ngrp_b\n    NA\nfig\nsix\n2015-06-15\nNA\n2018-06-06 16:11\n13.255\nrow_6\ngrp_b\n    7.770e+05\ngrapefruit\nseven\nNA\n19:10\n2018-07-07 05:22\nNA\nrow_7\ngrp_b\n    8.880e+06\nhoneydew\neight\n2015-08-15\n20:20\nNA\n0.440\nrow_8\ngrp_b\n  \n  \n  \n\n\n\n\n\nPhew! This is table won’t win any awards any time soon. Let’s clean it up a bit by working us through the columns one by one.\n\n3.1.1 Numbers\nLet’s first get rid of the scientific notation in the num column. While we’re at it, we’re going to round to one decimal.\n\nexibble |> \n  select(num) |>\n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(\n    columns = 'num',\n    decimals = 1\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n    \n  \n  \n    0.1\n    2.2\n    33.3\n    444.4\n    5,550.0\n    NA\n    777,000.0\n    8,880,000.0\n  \n  \n  \n\n\n\n\n\nNext, we may want to adjust our marks , and . in the output. For example, in German we write one million as 1.000.000 and a quarter as 0,25. Hence, we could change the sep_mark and dec_mark argument in fmt_number(). But the easier way is to just change the locale to \"de\" (German).\n\nexibble |> \n  select(num) |>\n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(\n    columns = 'num',\n    decimals = 1,\n    locale = 'de'\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n    \n  \n  \n    0,1\n    2,2\n    33,3\n    444,4\n    5.550,0\n    NA\n    777.000,0\n    8.880.000,0\n  \n  \n  \n\n\n\n\n\nSince we also have some very large numbers in the num column, we could apply some suffixing. This means that we transform e.g. 1000 to 1k.\n\nexibble |> \n  select(num) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(\n    columns = 'num',\n    decimals = 1,\n    suffixing = TRUE\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n    \n  \n  \n    0.1\n    2.2\n    33.3\n    444.4\n    5.5K\n    NA\n    777.0K\n    8.9M\n  \n  \n  \n\n\n\n\n\nWe could also use our own suffixes.\n\n# Thousand - Million - Billion - Trillion\ncustom_suffixes <- c(\"k\", \"mil\", \"bil\", \"tril\")\n\nexibble |> \n  select(num) |>\n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(\n    columns = 'num',\n    decimals = 1,\n    suffixing = custom_suffixes\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n    \n  \n  \n    0.1\n    2.2\n    33.3\n    444.4\n    5.5k\n    NA\n    777.0k\n    8.9mil\n  \n  \n  \n\n\n\n\n\n\n\n3.1.2 Currency\nNow, let’s format the currency column. The default currency is USD so that will give you $.\n\nexibble |> \n  select(num, currency) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_currency(columns = 'currency')\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n    \n  \n  \n    0.1\n$49.95\n    2.2\n$17.95\n    33.3\n$1.39\n    444.4\n$65,100.00\n    5,550.0\n$1,325.81\n    NA\n$13.26\n    777,000.0\nNA\n    8,880,000.0\n$0.44\n  \n  \n  \n\n\n\n\n\nSince I mostly use Euros in my real life, let me change the currency argument here. And we’re going to set the locale to German again.\n\nexibble |> \n  select(num, currency) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_currency(\n    columns = 'currency', currency = 'EUR', locale = 'de'\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n    \n  \n  \n    0.1\n€49,95\n    2.2\n€17,95\n    33.3\n€1,39\n    444.4\n€65.100,00\n    5,550.0\n€1.325,81\n    NA\n€13,26\n    777,000.0\nNA\n    8,880,000.0\n€0,44\n  \n  \n  \n\n\n\n\n\nYou’d think that this is the correct way to state a price in Germany. But it’s not. Unfortunately, the locale did not catch that we use the Euro symbol at the end of a number. But no worries, we can fix that manually.\nInstead of fmt_currency(), we’re going to use fmt_number() and apply the Euro symbol manually via pattern. The fmt_*() functions use {x} as placeholder for the functions regular output. So that way we could create outputs as we see fit. Here are two examples.\n\nEuro symbol (trailing)Euro text (leading)\n\n\n\nexibble |> \n  select(num, currency) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency',\n    decimals = 2,\n    locale = 'de',\n    pattern = '{x}€'\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n    \n  \n  \n    0.1\n49,95€\n    2.2\n17,95€\n    33.3\n1,39€\n    444.4\n65.100,00€\n    5,550.0\n1.325,81€\n    NA\n13,26€\n    777,000.0\nNA\n    8,880,000.0\n0,44€\n  \n  \n  \n\n\n\n\n\n\n\n\nexibble |> \n  select(num, currency) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency',\n    decimals = 2,\n    locale = 'de',\n    pattern = 'EUR {x}'\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n    \n  \n  \n    0.1\nEUR 49,95\n    2.2\nEUR 17,95\n    33.3\nEUR 1,39\n    444.4\nEUR 65.100,00\n    5,550.0\nEUR 1.325,81\n    NA\nEUR 13,26\n    777,000.0\nNA\n    8,880,000.0\nEUR 0,44\n  \n  \n  \n\n\n\n\n\n\n\n\nWe have rounded the num column to one decimal with the first fmt_number() layer. It’s interesting to find out what happens if we had targeted the currency column in that layer too. Would the next fmt_layer() round the previously rounded number or the original number? Let’s check.\n\nRound both columns in first layerRound only num in first layer\n\n\n\n\nCode\nexibble |> \n  select(num, currency) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = c('num', 'currency'), decimals = 1) |>\n  fmt_number(\n    columns = 'currency',\n    decimals = 2,\n    locale = 'de',\n    pattern = '{x}€'\n  )\n\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n    \n  \n  \n    0.1\n49,95€\n    2.2\n17,95€\n    33.3\n1,39€\n    444.4\n65.100,00€\n    5,550.0\n1.325,81€\n    NA\n13,26€\n    777,000.0\nNA\n    8,880,000.0\n0,44€\n  \n  \n  \n\n\n\n\n\n\n\n\n\nCode\nexibble |> \n  select(num, currency) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency',\n    decimals = 2,\n    locale = 'de',\n    pattern = '{x}€'\n  )\n\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n    \n  \n  \n    0.1\n49,95€\n    2.2\n17,95€\n    33.3\n1,39€\n    444.4\n65.100,00€\n    5,550.0\n1.325,81€\n    NA\n13,26€\n    777,000.0\nNA\n    8,880,000.0\n0,44€\n  \n  \n  \n\n\n\n\n\n\n\n\nAs you can see, the output is the same. This means that the fmt_*() functions always use the original data. That’s good to know.\nFun fact: That’s also what’s happening when you rename a column with cols_label(). Internally, the column names always rename the same.\n\n\n3.1.3 Dates, times and datetimes\nWe can format any date using fmt_date(). And there are quite a few date_styles we can choose from. Here, are a few examples.\n\nwday_month_day_yearday_m_yearyMMMdyMMMEd\n\n\n\nexibble |> \n  select(num, currency, date) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', date_style = \"wday_month_day_year\")\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n    \n  \n  \n    0.1\n49,95€\nThursday, January 15, 2015\n    2.2\n17,95€\nSunday, February 15, 2015\n    33.3\n1,39€\nSunday, March 15, 2015\n    444.4\n65.100,00€\nWednesday, April 15, 2015\n    5,550.0\n1.325,81€\nFriday, May 15, 2015\n    NA\n13,26€\nMonday, June 15, 2015\n    777,000.0\nNA\nNA\n    8,880,000.0\n0,44€\nSaturday, August 15, 2015\n  \n  \n  \n\n\n\n\n\n\n\n\nexibble |> \n  select(num, currency, date) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', date_style = \"day_m_year\")\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n    \n  \n  \n    0.1\n49,95€\n15 Jan 2015\n    2.2\n17,95€\n15 Feb 2015\n    33.3\n1,39€\n15 Mar 2015\n    444.4\n65.100,00€\n15 Apr 2015\n    5,550.0\n1.325,81€\n15 May 2015\n    NA\n13,26€\n15 Jun 2015\n    777,000.0\nNA\nNA\n    8,880,000.0\n0,44€\n15 Aug 2015\n  \n  \n  \n\n\n\n\n\n\n\n\nexibble |> \n  select(num, currency, date) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', date_style = \"yMMMd\")\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n    \n  \n  \n    0.1\n49,95€\nJan 15, 2015\n    2.2\n17,95€\nFeb 15, 2015\n    33.3\n1,39€\nMar 15, 2015\n    444.4\n65.100,00€\nApr 15, 2015\n    5,550.0\n1.325,81€\nMay 15, 2015\n    NA\n13,26€\nJun 15, 2015\n    777,000.0\nNA\nNA\n    8,880,000.0\n0,44€\nAug 15, 2015\n  \n  \n  \n\n\n\n\n\n\n\n\nexibble |> \n  select(num, currency, date) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', date_style = \"yMMMEd\")\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n    \n  \n  \n    0.1\n49,95€\nThu, Jan 15, 2015\n    2.2\n17,95€\nSun, Feb 15, 2015\n    33.3\n1,39€\nSun, Mar 15, 2015\n    444.4\n65.100,00€\nWed, Apr 15, 2015\n    5,550.0\n1.325,81€\nFri, May 15, 2015\n    NA\n13,26€\nMon, Jun 15, 2015\n    777,000.0\nNA\nNA\n    8,880,000.0\n0,44€\nSat, Aug 15, 2015\n  \n  \n  \n\n\n\n\n\n\n\n\nTo see the full list, you can run info_date_style().\n\ninfo_date_style()\n\n\n\n\n  \n  \n  \n    \n      Date Formatting Options\n    \n    \n      Usable in the fmt_date() and fmt_datetime() functions\n    \n  \n  \n    \n      \n      Format Name\n      \n      Formatted Date\n    \n  \n  \n    1\niso\n\n2000-02-29\n    2\nwday_month_day_year\n\nTuesday, February 29, 2000\n    3\nwd_m_day_year\n\nTue, Feb 29, 2000\n    4\nwday_day_month_year\n\nTuesday 29 February 2000\n    5\nmonth_day_year\n\nFebruary 29, 2000\n    6\nm_day_year\n\nFeb 29, 2000\n    7\nday_m_year\n\n29 Feb 2000\n    8\nday_month_year\n\n29 February 2000\n    9\nday_month\n\n29 February\n    10\nday_m\n\n29 Feb\n    11\nyear\n\n2000\n    12\nmonth\n\nFebruary\n    13\nday\n\n29\n    14\nyear.mn.day\n\n2000/02/29\n    15\ny.mn.day\n\n00/02/29\n    16\nyear_week\n\n2000-W09\n    17\nyear_quarter\n\n2000-Q1\n    18\nyMd\nFLEXIBLE\n2/29/2000\n    19\nyMEd\nFLEXIBLE\nTue, 2/29/2000\n    20\nyMMM\nFLEXIBLE\nFeb 2000\n    21\nyMMMM\nFLEXIBLE\nFebruary 2000\n    22\nyMMMd\nFLEXIBLE\nFeb 29, 2000\n    23\nyMMMEd\nFLEXIBLE\nTue, Feb 29, 2000\n    24\nGyMd\nFLEXIBLE\n2/29/2000 A\n    25\nGyMMMd\nFLEXIBLE\nFeb 29, 2000 AD\n    26\nGyMMMEd\nFLEXIBLE\nTue, Feb 29, 2000 AD\n    27\nyM\nFLEXIBLE\n2/2000\n    28\nMd\nFLEXIBLE\n2/29\n    29\nMEd\nFLEXIBLE\nTue, 2/29\n    30\nMMMd\nFLEXIBLE\nFeb 29\n    31\nMMMEd\nFLEXIBLE\nTue, Feb 29\n    32\nMMMMd\nFLEXIBLE\nFebruary 29\n    33\nGyMMM\nFLEXIBLE\nFeb 2000 AD\n    34\nyQQQ\nFLEXIBLE\nQ1 2000\n    35\nyQQQQ\nFLEXIBLE\n1st quarter 2000\n    36\nGy\nFLEXIBLE\n2000 AD\n    37\ny\nFLEXIBLE\n2000\n    38\nM\nFLEXIBLE\n2\n    39\nMMM\nFLEXIBLE\nFeb\n    40\nd\nFLEXIBLE\n29\n    41\nEd\nFLEXIBLE\n29 Tue\n  \n  \n  \n\n\n\n\n\nNotice that some of these styles are labeled as flexible. This means that they will adjust to locales. Beware that month names may adapt to the locale but not the formatting. Notice how day_m_year does not set a . after the day but yMMMd does. The latter is the correct German formatting.\n\nday_m_yearyMMMd\n\n\n\n\nCode\nexibble |> \n  select(num, currency, date) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(\n    columns = 'date', \n    locale = 'de',\n    date_style = \"day_m_year\"\n  )\n\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n    \n  \n  \n    0.1\n49,95€\n15 Jan. 2015\n    2.2\n17,95€\n15 Feb. 2015\n    33.3\n1,39€\n15 März 2015\n    444.4\n65.100,00€\n15 Apr. 2015\n    5,550.0\n1.325,81€\n15 Mai 2015\n    NA\n13,26€\n15 Juni 2015\n    777,000.0\nNA\nNA\n    8,880,000.0\n0,44€\n15 Aug. 2015\n  \n  \n  \n\n\n\n\n\n\n\n\n\nCode\nexibble |> \n  select(num, currency, date) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(\n    columns = 'date', \n    locale = 'de',\n    date_style = \"yMMMd\"\n  )\n\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n    \n  \n  \n    0.1\n49,95€\n15. Jan. 2015\n    2.2\n17,95€\n15. Feb. 2015\n    33.3\n1,39€\n15. März 2015\n    444.4\n65.100,00€\n15. Apr. 2015\n    5,550.0\n1.325,81€\n15. Mai 2015\n    NA\n13,26€\n15. Juni 2015\n    777,000.0\nNA\nNA\n    8,880,000.0\n0,44€\n15. Aug. 2015\n  \n  \n  \n\n\n\n\n\n\n\n\nFormatting time works basically the same, so I’m just going to show one example.1\n\nexibble |> \n  select(num, currency, date, time) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', locale = 'de', date_style = \"yMMMd\") |> \n  fmt_time(columns = 'time', time_style = \"Hms\")\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n      time\n    \n  \n  \n    0.1\n49,95€\n15. Jan. 2015\n13:35:00\n    2.2\n17,95€\n15. Feb. 2015\n14:40:00\n    33.3\n1,39€\n15. März 2015\n15:45:00\n    444.4\n65.100,00€\n15. Apr. 2015\n16:50:00\n    5,550.0\n1.325,81€\n15. Mai 2015\n17:55:00\n    NA\n13,26€\n15. Juni 2015\nNA\n    777,000.0\nNA\nNA\n19:10:00\n    8,880,000.0\n0,44€\n15. Aug. 2015\n20:20:00\n  \n  \n  \n\n\n\n\n\nI have a date. I have a time. Uh! Datetime, cf. PPAP2.\nWorking with these magical columns is exactly what you’d expect. You use fmt_datetime() which has a date_style and a time_style argument.\n\nexibble |> \n  select(num, currency, date, time, datetime) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', locale = 'de', date_style = \"yMMMd\") |> \n  fmt_time(columns = 'time', time_style = \"Hms\") |> \n  fmt_datetime(columns = 'datetime', date_style = \"yMMMd\", time_style = \"Hms\")\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n      time\n      datetime\n    \n  \n  \n    0.1\n49,95€\n15. Jan. 2015\n13:35:00\nJan 1, 2018 02:22:00\n    2.2\n17,95€\n15. Feb. 2015\n14:40:00\nFeb 2, 2018 14:33:00\n    33.3\n1,39€\n15. März 2015\n15:45:00\nMar 3, 2018 03:44:00\n    444.4\n65.100,00€\n15. Apr. 2015\n16:50:00\nApr 4, 2018 15:55:00\n    5,550.0\n1.325,81€\n15. Mai 2015\n17:55:00\nMay 5, 2018 04:00:00\n    NA\n13,26€\n15. Juni 2015\nNA\nJun 6, 2018 16:11:00\n    777,000.0\nNA\nNA\n19:10:00\nJul 7, 2018 05:22:00\n    8,880,000.0\n0,44€\n15. Aug. 2015\n20:20:00\nNA\n  \n  \n  \n\n\n\n\n\n\n\n3.1.4 Markdown\nWe can also use Markdown and therefore also HTML + CSS in our tables. Let’s use that to make our table a bit colorful. For example, we could wrap elements from the currency column into <span>-tags to colorize them.\n\nexibble |> \n  select(num, currency, date, time, datetime) |> \n  mutate(\n    currency = str_c(\n      '<span style=\"color:red;font-size:20pt\">',\n      currency,\n      '€</span>'\n    )\n  ) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_date(columns = 'date', locale = 'de', date_style = \"yMMMd\") |> \n  fmt_time(columns = 'time', time_style = \"Hms\") |> \n  fmt_datetime(columns = 'datetime', date_style = \"yMMMd\", time_style = \"Hms\") |> \n  fmt_markdown(columns = 'currency')\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n      time\n      datetime\n    \n  \n  \n    0.1\n49.95€\n\n15. Jan. 2015\n13:35:00\nJan 1, 2018 02:22:00\n    2.2\n17.95€\n\n15. Feb. 2015\n14:40:00\nFeb 2, 2018 14:33:00\n    33.3\n1.39€\n\n15. März 2015\n15:45:00\nMar 3, 2018 03:44:00\n    444.4\n65100€\n\n15. Apr. 2015\n16:50:00\nApr 4, 2018 15:55:00\n    5,550.0\n1325.81€\n\n15. Mai 2015\n17:55:00\nMay 5, 2018 04:00:00\n    NA\n13.255€\n\n15. Juni 2015\nNA\nJun 6, 2018 16:11:00\n    777,000.0\nNA\nNA\n19:10:00\nJul 7, 2018 05:22:00\n    8,880,000.0\n0.44€\n\n15. Aug. 2015\n20:20:00\nNA\n  \n  \n  \n\n\n\n\n\nThis is one way you could style your table. But I’ve used this way only for simple demo purposes. We’ll learn more about styling in Chapter 4.\nThe real power of the fmt_markdown() function is that you can put any html into the table and it will be formatted correctly afterwards. For example, I’ve copied the svg-code (which can be used in HTML) for the R logo from Wikipedia.\n\n## factor to apply to original width and height of svg from Wikipedia\nscale_size <- 0.5 \n\nr_logo_svg <- glue::glue('\n<svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" preserveAspectRatio=\"xMidYMid\" width=\"{724 * scale_size}\" height=\"{561 * scale_size}\" viewBox=\"0 0 724 561\">\n  <defs>\n    <linearGradient id=\"gradientFill-1\" x1=\"0\" x2=\"1\" y1=\"0\" y2=\"1\" gradientUnits=\"objectBoundingBox\" spreadMethod=\"pad\">\n      <stop offset=\"0\" stop-color=\"rgb(203,206,208)\" stop-opacity=\"1\"/>\n      <stop offset=\"1\" stop-color=\"rgb(132,131,139)\" stop-opacity=\"1\"/>\n    </linearGradient>\n    <linearGradient id=\"gradientFill-2\" x1=\"0\" x2=\"1\" y1=\"0\" y2=\"1\" gradientUnits=\"objectBoundingBox\" spreadMethod=\"pad\">\n      <stop offset=\"0\" stop-color=\"rgb(39,109,195)\" stop-opacity=\"1\"/>\n      <stop offset=\"1\" stop-color=\"rgb(22,92,170)\" stop-opacity=\"1\"/>\n    </linearGradient>\n  </defs>\n  <path d=\"M361.453,485.937 C162.329,485.937 0.906,377.828 0.906,244.469 C0.906,111.109 162.329,3.000 361.453,3.000 C560.578,3.000 722.000,111.109 722.000,244.469 C722.000,377.828 560.578,485.937 361.453,485.937 ZM416.641,97.406 C265.289,97.406 142.594,171.314 142.594,262.484 C142.594,353.654 265.289,427.562 416.641,427.562 C567.992,427.562 679.687,377.033 679.687,262.484 C679.687,147.971 567.992,97.406 416.641,97.406 Z\" fill=\"url(#gradientFill-1)\" fill-rule=\"evenodd\"/>\n  <path d=\"M550.000,377.000 C550.000,377.000 571.822,383.585 584.500,390.000 C588.899,392.226 596.510,396.668 602.000,402.500 C607.378,408.212 610.000,414.000 610.000,414.000 L696.000,559.000 L557.000,559.062 L492.000,437.000 C492.000,437.000 478.690,414.131 470.500,407.500 C463.668,401.969 460.755,400.000 454.000,400.000 C449.298,400.000 420.974,400.000 420.974,400.000 L421.000,558.974 L298.000,559.026 L298.000,152.938 L545.000,152.938 C545.000,152.938 657.500,154.967 657.500,262.000 C657.500,369.033 550.000,377.000 550.000,377.000 ZM496.500,241.024 L422.037,240.976 L422.000,310.026 L496.500,310.002 C496.500,310.002 531.000,309.895 531.000,274.877 C531.000,239.155 496.500,241.024 496.500,241.024 Z\" fill=\"url(#gradientFill-2)\" fill-rule=\"evenodd\"/>\n</svg>\n')\n\ntibble(logo = r_logo_svg) |> \n  gt() |> \n  fmt_markdown(columns = 'logo')\n\n\n\n\n  \n  \n  \n  \n    \n      logo\n    \n  \n  \n    \n  \n    \n      \n      \n    \n    \n      \n      \n    \n  \n  \n  \n\n\n  \n  \n  \n\n\n\n\n\nThis fmt_markdown() technique is super powerful. We could even use it to nest {gt}-tables (which are HTML) inside of each other. That’s what we’ll do in [@case-studies] to create elaborate tables.\n\n\n3.1.5 Any data format\nThere are some more fmt_*() functions for specific formats. Once again, you can look at them in the docs. Instead of showing them all, let me finish of with the most powerful function of them all. That’s fmt().\nYou can just apply any function that you like for formatting. For example, you could convert text entries to all-caps with str_to_upper().\n\nexibble |> \n  select(num, currency, date, time, datetime, char) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', locale = 'de', date_style = \"yMMMd\") |> \n  fmt_time(columns = 'time', time_style = \"Hms\") |> \n  fmt_datetime(columns = 'datetime', date_style = \"yMMMd\", time_style = \"Hms\") |> \n  fmt(columns = 'char', fn = str_to_upper)\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n      time\n      datetime\n      char\n    \n  \n  \n    0.1\n49,95€\n15. Jan. 2015\n13:35:00\nJan 1, 2018 02:22:00\nAPRICOT\n    2.2\n17,95€\n15. Feb. 2015\n14:40:00\nFeb 2, 2018 14:33:00\nBANANA\n    33.3\n1,39€\n15. März 2015\n15:45:00\nMar 3, 2018 03:44:00\nCOCONUT\n    444.4\n65.100,00€\n15. Apr. 2015\n16:50:00\nApr 4, 2018 15:55:00\nDURIAN\n    5,550.0\n1.325,81€\n15. Mai 2015\n17:55:00\nMay 5, 2018 04:00:00\nNA\n    NA\n13,26€\n15. Juni 2015\nNA\nJun 6, 2018 16:11:00\nFIG\n    777,000.0\nNA\nNA\n19:10:00\nJul 7, 2018 05:22:00\nGRAPEFRUIT\n    8,880,000.0\n0,44€\n15. Aug. 2015\n20:20:00\nNA\nHONEYDEW\n  \n  \n  \n\n\n\n\n\nOr you could write your own time-formatting function.\n\non_time_format <- function(time, target) {\n  if_else(parse_time(time) <= target, 'on time', 'too late')\n}\n\nexibble |> \n  select(time) |> \n  mutate(rep_time = time) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt(\n    columns = 'rep_time', \n    fns = function(x) {\n      on_time_format(x, hms::hms(hours = 16, minutes = 30))\n    }\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      time\n      rep_time\n    \n  \n  \n    13:35\non time\n    14:40\non time\n    15:45\non time\n    16:50\ntoo late\n    17:55\ntoo late\n    NA\nNA\n    19:10\ntoo late\n    20:20\ntoo late"
  },
  {
    "objectID": "formatting.html#sec-sub-functions",
    "href": "formatting.html#sec-sub-functions",
    "title": "3  Formatting",
    "section": "3.2 sub_ functions",
    "text": "3.2 sub_ functions\nThe sub_*() functions are straightforward to use. There are three main functions that you can use.\n\nsub_missing() replaces NA values\nsub_zero() replaces zero values\nsub_large_values() replaces large values (according to some threshold)\nsub_small_values() does… I think you can guess it\nsub_values() can replace large numbers or texts that match a regex\n\nThe first two are straight-forward to use. By default, they apply to the whole data. But you can also target only specific columns and rows by changing the columns and rows argument.\n\nReplace NAReplace zeros\n\n\n\nexibble |> \n  select(num, currency, date, time, datetime) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = 'num', decimals = 1) |>\n  fmt_number(\n    columns = 'currency', decimals = 2, locale = 'de',pattern = '{x}€'\n  ) |> \n  fmt_date(columns = 'date', locale = 'de', date_style = \"yMMMd\") |> \n  fmt_time(columns = 'time', time_style = \"Hms\") |> \n  fmt_datetime(columns = 'datetime', date_style = \"yMMMd\", time_style = \"Hms\") |> \n  sub_missing(missing_text = '----------')\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      currency\n      date\n      time\n      datetime\n    \n  \n  \n    0.1\n49,95€\n15. Jan. 2015\n13:35:00\nJan 1, 2018 02:22:00\n    2.2\n17,95€\n15. Feb. 2015\n14:40:00\nFeb 2, 2018 14:33:00\n    33.3\n1,39€\n15. März 2015\n15:45:00\nMar 3, 2018 03:44:00\n    444.4\n65.100,00€\n15. Apr. 2015\n16:50:00\nApr 4, 2018 15:55:00\n    5,550.0\n1.325,81€\n15. Mai 2015\n17:55:00\nMay 5, 2018 04:00:00\n    ----------\n13,26€\n15. Juni 2015\n----------\nJun 6, 2018 16:11:00\n    777,000.0\n----------\n----------\n19:10:00\nJul 7, 2018 05:22:00\n    8,880,000.0\n0,44€\n15. Aug. 2015\n20:20:00\n----------\n  \n  \n  \n\n\n\n\n\n\n\n\ntibble(demo_column = -3:3) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  sub_zero(zero_text = 'ZERO, WATCH OUT WHOOP WHOOP')\n\n\n\n\n  \n  \n  \n  \n    \n      demo_column\n    \n  \n  \n    -3\n    -2\n    -1\n    ZERO, WATCH OUT WHOOP WHOOP\n    1\n    2\n    3\n  \n  \n  \n\n\n\n\n\n\n\n\nWith sub_small_vals() and sub_large_vals() you have to be a bit careful about the sign of the number you’re replacing. Both functions will replace only positive or negative numbers. So, if you want to replace positive and negative numbers, you have to use the layers multiple times.\n\nReplace positivesReplace negativesReplace both\n\n\n\ntibble(x = c(-100, 100, 0.01, -0.01), demo_col = x) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = where(is.numeric)) |> \n  sub_small_vals(columns = 'demo_col', threshold = 1, sign = '+') |> \n  sub_large_vals(columns = 'demo_col', threshold = 50, sign = '+')\n\n\n\n\n  \n  \n  \n  \n    \n      x\n      demo_col\n    \n  \n  \n    −100.00\n−100.00\n    100.00\n≥50\n    0.01\n<1\n    −0.01\n−0.01\n  \n  \n  \n\n\n\n\n\n\n\n\ntibble(x = c(-100, 100, 0.01, -0.01), demo_col = x) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = where(is.numeric)) |> \n  sub_small_vals(columns = 'demo_col', threshold = 1, sign = '-') |> \n  sub_large_vals(columns = 'demo_col', threshold = 50, sign = '-')\n\n\n\n\n  \n  \n  \n  \n    \n      x\n      demo_col\n    \n  \n  \n    −100.00\n≤-50\n    100.00\n100.00\n    0.01\n0.01\n    −0.01\n<abs(-1)\n  \n  \n  \n\n\n\n\n\n\n\n\ntibble(x = c(-100, 100, 0.01, -0.01), demo_col = x) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = where(is.numeric)) |> \n  sub_small_vals(columns = 'demo_col', threshold = 1, sign = '+') |> \n  sub_large_vals(columns = 'demo_col', threshold = 50, sign = '+') |> \n  sub_small_vals(columns = 'demo_col', threshold = 1, sign = '-') |> \n  sub_large_vals(columns = 'demo_col', threshold = 50, sign = '-')\n\n\n\n\n  \n  \n  \n  \n    \n      x\n      demo_col\n    \n  \n  \n    −100.00\n≤-50\n    100.00\n≥50\n    0.01\n<1\n    −0.01\n<abs(-1)\n  \n  \n  \n\n\n\n\n\n\n\n\nThe last sub_*() function is sub_values(). It is the most powerful function of the sub_*() family because it can replace numbers and texts. For that it has a values and pattern argument. In case you’re wondering, you can only use one of them at a time. If you specify both, pattern will always take precedence.\nBut there’s more. It also has an fn argument. You could use it to let an arbitrary function decide which values get replaced. In order for this to work, this function must take a column and return a TRUE/FALSE vector of the same length.\nLet’s take a look at a couple of examples.\n\n\n3.2.1 Replace by values\n\nexibble |>\n  select(num) |> \n  mutate(demo_col = num) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = everything()) |> \n  sub_values(\n    columns = 'demo_col',\n    values = c(0.111, 777000),\n    replacement = 'REPLACED'\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      demo_col\n    \n  \n  \n    0.11\n0.11\n    2.22\n2.22\n    33.33\n33.33\n    444.40\n444.40\n    5,550.00\n5,550.00\n    NA\nNA\n    777,000.00\nREPLACED\n    8,880,000.00\n8,880,000.00\n  \n  \n  \n\n\n\n\n\n\n\n3.2.2 Replace by pattern\n\nexibble |>\n  select(char) |> \n  mutate(demo_col = char) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  sub_values(\n    columns = 'demo_col',\n    pattern = '(a|e)',\n    replacement = 'fruit contains an a or e'\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      char\n      demo_col\n    \n  \n  \n    apricot\nfruit contains an a or e\n    banana\nfruit contains an a or e\n    coconut\ncoconut\n    durian\nfruit contains an a or e\n    NA\nNA\n    fig\nfig\n    grapefruit\nfruit contains an a or e\n    honeydew\nfruit contains an a or e\n  \n  \n  \n\n\n\n\n\n\n\n3.2.3 Replace by function\n\nexibble |>\n  select(num) |> \n  mutate(demo_col = num) |> \n  gt() |> \n  opt_stylize(style = 3) |> \n  fmt_number(columns = everything()) |> \n  sub_values(\n    columns = 'demo_col',\n    fn = function(x) between(x, 10, 10000),\n    replacement = 'Between 10 and 10000'\n  )\n\n\n\n\n  \n  \n  \n  \n    \n      num\n      demo_col\n    \n  \n  \n    0.11\n0.11\n    2.22\n2.22\n    33.33\nBetween 10 and 10000\n    444.40\nBetween 10 and 10000\n    5,550.00\nBetween 10 and 10000\n    NA\nNA\n    777,000.00\n777,000.00\n    8,880,000.00\n8,880,000.00"
  },
  {
    "objectID": "formatting.html#summary",
    "href": "formatting.html#summary",
    "title": "3  Formatting",
    "section": "3.3 Summary",
    "text": "3.3 Summary\nThat’s a wrap on this chapter. We’ve got the formatting options covered. Time to get to the most complicated part of our tables: Their theme.\nJust like in a ggplot we can style more or less every part of our table. And if you’re familiar with HTML/CSS you can even apply custom styles that have not been implemented in {gt} yet."
  },
  {
    "objectID": "styling.html#sec-annotation",
    "href": "styling.html#sec-annotation",
    "title": "4  Styling",
    "section": "4.1 Annotations",
    "text": "4.1 Annotations\n\ntitle\ncaption\nfootnote"
  },
  {
    "objectID": "styling.html#sec-theming",
    "href": "styling.html#sec-theming",
    "title": "4  Styling",
    "section": "4.2 Theming",
    "text": "4.2 Theming\nopt_stylize\n\n4.2.1 Tab options\n\n\n4.2.2 Cell styling\n\n\n4.2.3 Custom CSS"
  },
  {
    "objectID": "case_studies.html#fitness-pricing",
    "href": "case_studies.html#fitness-pricing",
    "title": "5  Case studies",
    "section": "5.1 Fitness pricing",
    "text": "5.1 Fitness pricing\nIn this chapter we’re going to build this Fitness pricing table I found online. It’s not really a data table but it’s a fun exercise to build this.\n\n\n\n\n\n\n\n\n  \n  \n  \n    \n    \n    \n    \n    \n    \n    \n  \n  \n    \n      Fitness Pricing Table\n    \n    \n  \n  \n    \n      Standard\n      \n      Popular\n      \n      Golden\n      \n      Ultimate\n    \n  \n  \n    $15/month\n\n\n$25/month\n\n\n$35/month\n\n\n$50/month\n\n    \n  \n  \n    \n    \n  \n  \n    \n\nBeginner Classes\n    \n\nTraining Overview\n    \n\nPersonal Training\n    \n\nOlympic Weightlifting\n    \n\nFoundation Training\n  \n\n\n\n\n\n  \n  \n    \n    \n  \n  \n    \n\nBeginner Classes\n    \n\nTraining Overview\n    \n\nPersonal Training\n    \n\nOlympic Weightlifting\n    \n\nFoundation Training\n  \n\n\n\n\n\n  \n  \n    \n    \n  \n  \n    \n\nBeginner Classes\n    \n\nTraining Overview\n    \n\nPersonal Training\n    \n\nOlympic Weightlifting\n    \n\nFoundation Training\n  \n\n\n\n\n\n  \n  \n    \n    \n  \n  \n    \n\nBeginner Classes\n    \n\nTraining Overview\n    \n\nPersonal Training\n    \n\nOlympic Weightlifting\n    \n\nFoundation Training\n  \n\n\n\n    Book now\n\n\nBook now\n\n\nBook now\n\n\nBook now\n\n  \n  \n  \n    \n       Design/Inspiration: @supacode | {gt} Remake: @rappa753"
  },
  {
    "objectID": "case_studies.html#nyt-bestseller",
    "href": "case_studies.html#nyt-bestseller",
    "title": "5  Case studies",
    "section": "5.2 NYT bestseller",
    "text": "5.2 NYT bestseller\nThis one is a recreation of an awesome table Tanya Shapiro made with {ggplot2}. It is a huge table. So you’ll probably need to look at this on a large screen. But just to be safe. Here’s a screenshot of the table as well.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  \n  \n  \n    \n    \n    \n  \n  \n    \n       The New York Times Best Selling AuthorsTop authors by decade. Ranking based on number of weeks author appeared on list. Sparkline depicts total weeksby year (counts multiple books). Top performing book included beneath each author's name. Data from Post45 Data Collective.\n    \n    \n  \n  \n  \n    \n  \n  \n  \n    \n    \n    \n    \n  \n  \n    \n      1960s\n    \n    1\n176 WEEKS ON THE LIST Allen DruryAdvise And Consent\n\n\n\n    2\n158 WEEKS ON THE LIST John O'HaraElizabeth Appleton\n\n\n\n    3\n157 WEEKS ON THE LIST Taylor CaldwellTestimony Of Two Men\n\n\n\n    4\n136 WEEKS ON THE LIST Irving WallaceThe Man\n\n\n\n    5\n135 WEEKS ON THE LIST Leon UrisTopaz\n\n\n\n  \n\n\n\n\n  \n  \n  \n    \n    \n    \n    \n  \n  \n    \n      1970s\n    \n    1\n172 WEEKS ON THE LIST Richard BachIllusions\n\n\n\n    2\n125 WEEKS ON THE LIST Robert LudlumThe Matarese Circle\n\n\n\n    3\n123 WEEKS ON THE LIST Herman WoukThe Winds Of War\n\n\n\n    4\n119 WEEKS ON THE LIST Agatha ChristieCurtain\n\n\n\n    5\n119 WEEKS ON THE LIST Frederick ForsythThe Odessa File\n\n\n\n  \n\n\n\n\n  \n  \n  \n    \n    \n    \n    \n  \n  \n    \n      1980s\n    \n    1\n336 WEEKS ON THE LIST Stephen KingFirestarter\n\n\n\n    2\n271 WEEKS ON THE LIST Danielle SteelChanges\n\n\n\n    3\n205 WEEKS ON THE LIST James A. MichenerThe Covenant\n\n\n\n    4\n176 WEEKS ON THE LIST Tom ClancyRed Storm Rising\n\n\n\n    5\n170 WEEKS ON THE LIST Robert LudlumThe Parsifal Mosaic\n\n\n\n  \n\n\n\n    \n  \n  \n  \n    \n    \n    \n    \n  \n  \n    \n      1990s\n    \n    1\n311 WEEKS ON THE LIST Danielle SteelThe Gift\n\n\n\n    2\n307 WEEKS ON THE LIST John GrishamThe Pelican Brief\n\n\n\n    3\n244 WEEKS ON THE LIST Stephen KingThe Stand\n\n\n\n    4\n212 WEEKS ON THE LIST Robert WallerThe Bridges Of Madison County\n\n\n\n    5\n192 WEEKS ON THE LIST Mary Higgins ClarkLoves Music, Loves To Dance\n\n\n\n  \n\n\n\n\n  \n  \n  \n    \n    \n    \n    \n  \n  \n    \n      2000s\n    \n    1\n232 WEEKS ON THE LIST John GrishamSkipping Christmas\n\n\n\n    2\n218 WEEKS ON THE LIST Dan BrownThe Da Vinci Code\n\n\n\n    3\n200 WEEKS ON THE LIST Danielle SteelThe House On Hope Street\n\n\n\n    4\n178 WEEKS ON THE LIST James PattersonCross\n\n\n\n    5\n176 WEEKS ON THE LIST Nicholas SparksA Bend In The Road\n\n\n\n  \n\n\n\n\n  \n  \n  \n    \n    \n    \n    \n  \n  \n    \n      2010s\n    \n    1\n216 WEEKS ON THE LIST John GrishamSycamore Row\n\n\n\n    2\n207 WEEKS ON THE LIST David BaldacciThe Escape\n\n\n\n    3\n157 WEEKS ON THE LIST Danielle SteelThe Mistress\n\n\n\n    4\n157 WEEKS ON THE LIST Stephen King11/22/63\n\n\n\n    5\n132 WEEKS ON THE LIST Anthony DoerrAll The Light We Cannot See\n\n\n\n  \n\n\n\n  \n  \n  \n    \n       {ggplot2} Original: @tanya_shapiro | \n{gt} recreation: @rappa753"
  },
  {
    "objectID": "quarto_gt.html#column-widths",
    "href": "quarto_gt.html#column-widths",
    "title": "6  Quarto and {gt}",
    "section": "6.1 Column widths",
    "text": "6.1 Column widths"
  }
]